<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inner Sanctum - Ultimate Game Expansion Plan</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.7;
            color: #2c3e50;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f0f1a 100%);
            padding: 30px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #4f46e5 0%, #6a11cb 50%, #2575fc 100%);
            color: white;
            padding: 50px;
            text-align: center;
            border-bottom: 5px solid #ffd700;
        }

        header h1 {
            font-size: 3em;
            margin-bottom: 15px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
            font-weight: 700;
        }

        header .subtitle {
            font-size: 1.4em;
            opacity: 0.95;
            font-weight: 300;
        }

        header .meta {
            margin-top: 20px;
            font-size: 1em;
            opacity: 0.9;
        }

        .toc {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px;
            border-bottom: 5px solid #ffd700;
        }

        .toc h2 {
            color: white;
            margin-bottom: 25px;
            font-size: 2em;
        }

        .toc ul {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 15px;
        }

        .toc a {
            color: white;
            text-decoration: none;
            padding: 15px 20px;
            display: block;
            border-radius: 8px;
            transition: all 0.3s;
            border-left: 4px solid rgba(255,255,255,0.3);
            font-weight: 500;
        }

        .toc a:hover {
            background: rgba(255,255,255,0.15);
            border-left-color: #ffd700;
            padding-left: 25px;
            transform: translateX(5px);
        }

        .content {
            padding: 50px;
        }

        .section {
            margin-bottom: 60px;
        }

        .section h2 {
            color: #4f46e5;
            font-size: 2.5em;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 4px solid #667eea;
            font-weight: 700;
        }

        .subsection {
            margin: 40px 0;
            padding: 30px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            border-left: 6px solid #667eea;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .subsection h3 {
            color: #495057;
            font-size: 1.8em;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .feature-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            transition: all 0.3s;
            border: 1px solid #e9ecef;
        }

        .feature-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 30px rgba(102, 126, 234, 0.15);
            border-color: #667eea;
        }

        .feature-card h4 {
            color: #4f46e5;
            margin-bottom: 15px;
            font-size: 1.4em;
            font-weight: 600;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 10px;
        }

        .feature-card h5 {
            color: #6a11cb;
            font-size: 1.2em;
            margin-top: 15px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: #f8f9fa;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 18px;
            text-align: left;
            font-weight: 600;
            font-size: 0.95em;
            border-bottom: 3px solid rgba(255,255,255,0.3);
        }

        td {
            padding: 15px 18px;
            border-bottom: 1px solid #dee2e6;
            vertical-align: top;
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover {
            background: #e9ecef;
        }

        .badge {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 25px;
            font-size: 0.85em;
            font-weight: 700;
            margin: 3px;
        }

        .badge-high { background: #00b894; color: white; }
        .badge-medium { background: #ffc107; color: #333; }
        .badge-low { background: #dc3545; color: white; }
        .badge-phase1 { background: #e74c3c; color: white; }
        .badge-phase2 { background: #f39c12; color: white; }
        .badge-phase3 { background: #6f42c1; color: white; }

        .code-block {
            background: #1e1e1e;
            color: #00ff9d;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', 'Consolas', monospace;
            font-size: 0.9em;
            line-height: 1.5;
            border-left: 4px solid #00ff9d;
        }

        .implementation-steps {
            background: white;
            padding: 25px;
            margin: 15px 0;
            border-radius: 10px;
            border: 2px solid #e9ecef;
        }

        .implementation-steps ol {
            margin-left: 25px;
        }

        .implementation-steps li {
            margin: 12px 0;
            padding-left: 12px;
            line-height: 1.6;
        }

        .highlight-box {
            background: linear-gradient(135deg, #ffeaa7 15%, #fd7e14 100%);
            border: 3px solid #ffc107;
            padding: 30px;
            border-radius: 12px;
            margin: 25px 0;
            box-shadow: 0 5px 20px rgba(255, 193, 7, 0.2);
        }

        .highlight-box h4 {
            color: #c0392b;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .warning-box {
            background: linear-gradient(135deg, #ff6b6b 15%, #ee5a6f 100%);
            border: 3px solid #c0392b;
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(192, 57, 43, 0.3);
        }

        .warning-box h5 {
            color: #ffebee;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .info-box {
            background: #d1ecf1;
            border-left: 5px solid #17a2b8;
            padding: 25px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .info-box h5 {
            color: #0c5460;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .mega-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .mega-list-item {
            background: white;
            padding: 25px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }

        .mega-list-item h5 {
            color: #667eea;
            margin-bottom: 12px;
            font-size: 1.3em;
            font-weight: 600;
        }

        .mega-list-item ul {
            margin: 10px 0 0 25px;
            padding: 0;
        }

        .mega-list-item li {
            margin: 8px 0;
            line-height: 1.5;
        }

        .score-display {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .score-bar {
            flex: 1;
            min-width: 150px;
            height: 24px;
            background: #e9ecef;
            border-radius: 12px;
            overflow: hidden;
        }

        .score-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.5s;
        }

        .timeline {
            position: relative;
            padding: 30px 0;
            margin: 40px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background: #667eea;
            transform: translateX(-50%);
        }

        .timeline-item {
            padding: 25px;
            margin: 25px 0;
            width: 45%;
            position: relative;
        }

        .timeline-item:nth-child(odd) { left: 0; }
        .timeline-item:nth-child(even) { left: 55%; }

        .timeline-item::before {
            content: '';
            position: absolute;
            width: 24px;
            height: 24px;
            background: #667eea;
            border-radius: 50%;
            top: 30px;
            border: 3px solid #ffd700;
        }

        .timeline-item:nth-child(odd)::before { right: -35px; }
        .timeline-item:nth-child(even)::before { left: -35px; }

        .timeline-content {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border: 2px solid #e9ecef;
        }

        .timeline-content h4 {
            color: #4f46e5;
            margin-bottom: 12px;
            font-size: 1.3em;
        }

        .collapsible {
            cursor: pointer;
            user-select: none;
        }

        .collapsible::after {
            content: '‚ñº Show More';
            float: right;
            margin-left: 10px;
            color: #667eea;
            font-weight: 600;
            transition: transform 0.3s;
        }

        .collapsible.active::after {
            transform: rotate(180deg);
            content: '‚ñ≤ Show Less';
        }

        .collapsible-content {
            max-height: 500px;
            overflow: hidden;
            transition: max-height 0.5s ease-out;
        }

        .collapsible-content.active {
            max-height: none;
        }

        footer {
            background: #1a1a2e;
            color: white;
            text-align: center;
            padding: 40px;
            margin-top: 50px;
            border-top: 5px solid #ffd700;
        }

        @media (max-width: 768px) {
            body { padding: 15px; }
            .container { padding: 20px; }
            .toc ul { grid-template-columns: 1fr; }
            .mega-list { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéÆ INNER SANCTUM</h1>
            <div class="subtitle">Ultimate Game Expansion & Feature Roadmap</div>
            <div class="meta">
                <span>Version: 2.0 (MEGA EXPANSION)</span> |
                <span>Last Updated: February 12, 2026</span> |
                <span>Platform: VMU Pro SDK</span> |
                <span>Estimated Features: 150+ Ideas</span>
            </div>
        </header>

        <div class="toc">
            <h2>üìã MEGA TABLE OF CONTENTS</h2>
            <ul>
                <li><a href="#overview">1. Project Vision & Philosophy</a></li>
                <li><a href="#scoring">2. Ultimate Scoring & Progression System</a></li>
                <li><a href="#inventory">3. Complete Inventory & Equipment Overhaul</a></li>
                <li><a href="#combat">4. Combat & Enemy Expansion</a></li>
                <li><a href="#pickups">5. Pickups, Power-Ups & Items</a></li>
                <li><a href="#environment">6. Environmental & Atmosphere Systems</a></li>
                <li><a href="#map-features">7. Map Design & Interactive Elements</a></li>
                <li><a href="#social">8. Social, NPCs & Shop Systems</a></li>
                <li><a href="#magic">9. Magic, Skills & Special Abilities</a></li>
                <li><a href="#quest">10. Quest System & Narrative Structure</a></li>
                <li><a href="#difficulty">11. Difficulty & Accessibility Options</a></li>
                <li><a href="#quality">12. Quality of Life & Polish Features</a></li>
                <li><a href="#priority">13. MEGA Priority Matrix (All Features)</a></li>
                <li><a href="#timeline">14. Implementation Timeline (6 Months)</a></li>
                <li><a href="#technical">15. Technical Architecture & SDK Mastery</a></li>
                <li><a href="#risks">16. Risk Assessment & Mitigation</a></li>
                <li><a href="#user-vision-lock">17. Player-Directed Expansion Lock (Your Requirements)</a></li>
                <li><a href="#user-implementation-order">18. Efficient Implementation Order (Execution Sequence)</a></li>
            </ul>
        </div>

        <div class="content">
            <!-- SECTION 1: VISION -->
            <div id="overview" class="section">
                <h2>1. üéØ PROJECT VISION & PHILOSOPHY</h2>

                <div class="subsection">
                    <h3>Current Game State Analysis</h3>
                    <div class="feature-card">
                        <h4>‚úÖ What We Have (Solid Foundation)</h4>
                        <div class="mega-list">
                            <div class="mega-list-item">
                                <h5>Core Engine</h5>
                                <ul>
                                    <li><strong>Raycasting 3D renderer</strong> - DDA algorithm with textured walls, quad-based fallback</li>
                                    <li><strong>Player movement</strong> - Collision detection, 8-directional movement</li>
                                    <li><strong>Enemy AI</strong> - 3 states (patrol, chase, attack), 3x sprint speed variation</li>
                                    <li><strong>Combat system</strong> - Melee attacks, 20 damage sword, timing-based hit detection</li>
                                    <li><strong>Health system</strong> - Diablo 2-style potion UI, 100 HP max</li>
                                    <li><strong>Pickups</strong> - Health vials (5 per level), restore to 100%</li>
                                    <li><strong>Death effects</strong> - Blood particles, groan + squish sounds</li>
                                    <li><strong>Complete UI</strong> - Title, Pause, Options, Game Over, Win screens</li>
                                    <li><strong>Win condition</strong> - Kill all 5 soldiers</li>
                                </ul>
                            </div>

                            <div class="mega-list-item">
                                <h5>What We're Missing (Opportunity)</h5>
                                <ul>
                                    <li><strong>Progression systems</strong> - No scoring, no tracking, no permanent advancement</li>
                                    <li><strong>Content depth</strong> - Single enemy type, linear gameplay, minimal replay value</li>
                                    <li><strong>Player expression</strong> - No build variety, no strategic choices</li>
                                    <li><strong>World depth</strong> - Static maps, no exploration incentives, no secrets</li>
                                    <li><strong>System depth</strong> - No economy, no character growth, no meta-progression</li>
                                    <li><strong>Content variety</strong> - No environmental storytelling, no atmospheric effects</li>
                                </ul>
                            </div>

                            <div class="mega-list-item">
                                <h5>Our Core Philosophy (Expansion Goals)</h5>
                                <ul>
                                    <li><strong>DOOM-Style Progression</strong> - Fast-paced, score-driven, exploration-rewarding combat crawler</li>
                                    <li><strong>Run-Based</strong> - Individual sessions should be complete experiences (5-15 min)</li>
                                    <li><strong>Skill Expression</strong> - Multiple viable builds, player choice matters</li>
                                    <li><strong>Exploration Rewards</strong> - Secrets, shortcuts, sequence breaking all valued</li>
                                    <li><strong>Risk vs Reward</strong> - Powerful items have trade-offs, strategic thinking required</li>
                                    <li><strong>Depth Within Simplicity</strong> - Complex systems with simple UI, intuitive controls</li>
                                    <li><strong>Replay Value</strong> - Multiple playstyles, completion incentives, mastery challenges</li>
                                    <li><strong>Performance First</strong> - All features must hit 30+ FPS on VMU Pro hardware</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="highlight-box">
                        <h4>üéÆ TARGET EXPERIENCE PROFILE</h4>
                        <p style="font-size: 1.1em; line-height: 1.6;">
                            <strong>Imagine:</strong> A player boots Inner Sanctum and is presented with:
                        </p>
                        <ul style="margin: 15px 0 15px 40px; font-size: 1.05em;">
                            <li>Quick 3-second splash screen with "PRESS START" pulsing</li>
                            <li>Main menu offering: NEW GAME, CONTINUE, OPTIONS, CREDITS (with atmospheric background)</li>
                            <li>Character select screen showing 3 different starting classes (Warrior, Rogue, Mage)</li>
                            <li>Level select from map of 5 themed zones (Dungeon, Crypt, Castle, Temple, Caves)</li>
                            <li>Pre-level briefing: "Level 3: The Obsidian Crypt - Find the 3 lost souls"</li>
                            <li>During gameplay: Score counter top-right, health/weapon display, mini-map in corner, pickup auto-pickup range</li>
                            <li>After each level: Summary screen showing TIME/BONUS/ITEMS/SECRETS stats</li>
                            <li>Death screen: "YOU DIED - Score: 1,250 - Press A to Quick Restart"</li>
                            <li>Victory screen: Player does victory pose with score tally and rank</li>
                            <li>Unlock system: Beat levels to unlock next zone, earn cheat codes for replay</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- SECTION 2: SCORING -->
            <div id="scoring" class="section">
                <h2>2. üèÜ ULTIMATE SCORING & PROGRESSION SYSTEM</h2>

                <div class="subsection">
                    <h3>2.1 Core Point System</h3>
                    <div class="feature-card">
                        <h4>Detailed Point Values</h4>
                        <table>
                            <thead>
                                <tr>
                                    <th>Action</th>
                                    <th>Base Points</th>
                                    <th>Multiplier System</th>
                                    <th>Example Score</th>
                                    <th>Notes</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Basic Enemy Kill</strong></td>
                                    <td>100</td>
                                    <td>1.0x (base)</td>
                                    <td>100 pts</td>
                                    <td>Standard soldier</td>
                                </tr>
                                <tr>
                                    <td><strong>Elite Enemy Kill</strong></td>
                                    <td>250</td>
                                    <td>1.5x (elite)</td>
                                    <td>375 pts</td>
                                    <td>Captain, unique sprite</td>
                                </tr>
                                <tr>
                                    <td><strong>Boss Kill</strong></td>
                                    <td>1,000</td>
                                    <td>2.0x (boss)</td>
                                    <td>2,000 pts</td>
                                    <td>End-of-level boss</td>
                                </tr>
                                <tr>
                                    <td><strong>Perfect Kill</strong></td>
                                    <td>+50%</td>
                                    <td>Multiplies base</td>
                                    <td>+150 pts (boss = +500)</td>
                                    <td>No damage taken</td>
                                </tr>
                                <tr>
                                    <td><strong>Pickup Collected</strong></td>
                                    <td>10</td>
                                    <td>Stacks</td>
                                    <td>10, 20, 30...</td>
                                    <td>Per item, combo multiplies</td>
                                </tr>
                                <tr>
                                    <td><strong>Secret Found</strong></td>
                                    <td>500</td>
                                    <td>-</td>
                                    <td>500 pts flat</td>
                                    <td>One-time per secret</td>
                                </tr>
                                <tr>
                                    <td><strong>Speed Clear</strong></td>
                                    <td>200</td>
                                    <td>-</td>
                                    <td>200 pts flat</td>
                                    <td>Under 2 minutes</td>
                                </tr>
                                <tr>
                                    <td><strong style="color: #00b894;">Combo x5</strong></td>
                                    <td>+100%</td>
                                    <td>Applies to all actions</td>
                                    <td style="color: #00b894;">Score √ó 2 during combo!</td>
                                    <td>Kill 5 enemies within 3 seconds</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="code-block">
                            <h5 style="color: #ffd700; margin-top: 20px;">Advanced Scoring Math</h5>
                            <code>-- Frame-perfect combo system
local comboCount = 0
local comboTimer = 0
local COMBO_WINDOW = 180  -- 3 seconds at 60 FPS

function onEnemyKill()
    comboCount = comboCount + 1
    comboTimer = frameCount

    -- Calculate combo multiplier
    local timeSinceLastKill = frameCount - comboTimer
    if timeSinceLastKill &lt; COMBO_WINDOW then
        comboMultiplier = 1.0 + (comboCount * 0.1)
        -- Cap at 5x combo
        if comboMultiplier &gt; 5.0 then
            comboMultiplier = 5.0
        end
    else
        -- Combo expired
        comboCount = 0
        comboMultiplier = 1.0
    end

    -- Calculate final score
    local baseScore = 100  -- Basic enemy
    local eliteBonus = isElite and 150 or 0
    local comboBonus = comboMultiplier &gt; 1.0 and (baseScore * comboMultiplier) or 0
    local perfectBonus = tookNoDamage and (baseScore * 0.5) or 0

    local totalScore = baseScore + eliteBonus + comboBonus + perfectBonus
    player.score = player.score + totalScore

    -- Visual feedback
    if comboMultiplier &gt; 1.0 then
        showFloatingText(comboCount .. "x COMBO!", playerX, playerY - 20)
        playSound("combo_" .. math.min(comboCount, 5))
    end
end

-- Combo decay check (runs every frame)
function updateCombo()
    if frameCount - comboTimer &gt; COMBO_WINDOW then
        comboCount = 0
        comboMultiplier = 1.0
    end
end</code>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>2.2 Achievement System (50+ Achievements)</h3>
                    <div class="feature-card">
                        <h4>Achievement Categories</h4>

                        <div style="margin: 30px 0;">
                            <strong style="font-size: 1.3em; color: #667eea;">üéØ COMBAT ACHIEVEMENTS (20)</strong>
                            <div class="mega-list" style="margin-top: 15px;">
                                <div class="mega-list-item">
                                    <h5>First Blood</h5>
                                    <p style="margin: 8px 0 0 20px;">Kill your first enemy. The beginning of your journey.</p>
                                    <p><strong>Points:</strong> 10</p>
                                    <p><strong>Unlock:</strong> Confidence boost (start with +10 max HP)</p>
                                </div>
                                <div class="mega-list-item">
                                    <h5>Slayer</h5>
                                    <p>Kill 10 enemies. Prove your combat worth.</p>
                                    <p><strong>Points:</strong> 50</p>
                                    <p><strong>Unlock:</strong> Damage amplifier (start with +5 base damage)</p>
                                </div>
                                <div class="mega-list-item">
                                    <h5>Bulletproof</h5>
                                    <p>Complete a level without taking damage. True mastery.</p>
                                    <p><strong>Points:</strong> 100</p>
                                    <p><strong>Unlock:</strong> Defense +1 (start with 20 max HP instead of 100)</p>
                                </div>
                                <div class="mega-list-item">
                                    <h5>Perfect Wave</h5>
                                    <p>Kill all enemies in a wave without being hit.</p>
                                    <p><strong>Points:</strong> 75</p>
                                    <p><strong>Unlock:</strong> Access to ARMOR slot (can equip leather armor)</p>
                                </div>
                                <div class="mega-list-item">
                                    <h5>Speed Demon</h5>
                                    <p>Complete level under 2 minutes. Pure speed.</p>
                                    <p><strong>Points:</strong> 50</p>
                                    <p><strong>Unlock:</strong> Movement speed +10%</p>
                                </div>
                                <div class="mega-list-item">
                                    <h5>Chain Master</h5>
                                    <p>Reach 10x combo. Absolute mastery.</p>
                                    <p><strong>Points:</strong> 150</p>
                                    <p><strong>Unlock:</strong> Critical hit chance +5%</p>
                                </div>
                                <div class="mega-list-item">
                                    <h5>Millionaire</h5>
                                    <p>Score 1,000,000 points lifetime across all sessions.</p>
                                    <p><strong>Points:</strong> 500</p>
                                    <p><strong>Unlock:</strong> Golden player skin effect</p>
                                </div>
                                <div class="mega-list-item">
                                    <h5>Genocide</h5>
                                    <p>Kill 100 of one enemy type across entire game.</p>
                                    <p><strong>Points:</strong> 200</p>
                                    <p><strong>Unlock:</strong> That enemy type drops 2x loot</p>
                                </div>
                                <div class="mega-list-item">
                                    <h5>Untouchable</h5>
                                    <p>Complete game without dying once. Perfection.</p>
                                    <p><strong>Points:</strong> 300</p>
                                    <p><strong>Unlock:</strong> "WARRIOR CLASS" badge on menu</p>
                                </div>
                                <div class="mega-list-item">
                                    <h5>Pacifist</h5>
                                    <p>Complete game using only non-lethal takedowns.</p>
                                    <p><strong>Points:</strong> 100</p>
                                    <p><strong>Unlock:</strong> Monk class option (fists do double damage, but can't use weapons)</p>
                                </div>
                                <div class="mega-list-item">
                                    <h5>No Items</h5>
                                    <p>Beat level without picking up any items. Pure skill.</p>
                                    <p><strong>Points:</strong> 75</p>
                                    <p><strong>Unlock:</strong> Next game start with +50 score</p>
                                </div>
                            </div>
                        </div>

                        <div style="margin: 30px 0;">
                            <strong style="font-size: 1.3em; color: #667eea;">üè±Ô∏è SPEEDRUNNING ACHIEVEMENTS (15)</strong>
                            <p style="margin: 8px 0;">Time-based challenges for mastery players.</p>
                        </div>

                        <div style="margin: 30px 0;">
                            <strong style="font-size: 1.3em; color: #667eea;">üéÆ COLLECTION ACHIEVEMENTS (15)</strong>
                            <p style="margin: 8px 0;">Exploration and hoarding challenges.</p>
                        </div>

                        <div class="implementation-steps">
                            <h5>Achievement UI Design</h5>
                            <ol>
                                <li>Popup notification with achievement icon, name, description</li>
                                <li>Toast notification: "ACHIEVEMENT UNLOCKED!" (3-5 second display)</li>
                                <li>Achievement progress bar for multi-step achievements (e.g., "Kills: 47/100")</li>
                                <li>Achievement viewer in Options menu - grid view with 50 items</li>
                                <li>Achievement rarity colors: Common (gray), Rare (blue), Epic (purple), Legendary (gold)</li>
                                <li>Sound effects: Bronze = low chime, Silver = medium chime, Gold = fanfare</li>
                                <li>Achievement tracking persists across sessions (file storage)</li>
                                <li>Secret achievements require finding ALL secrets in a zone</li>
                                <li>Speed achievements have bronze/silver/gold tiers based on time</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>2.3 Leaderboard & High Score System</h3>
                    <div class="feature-card">
                        <h4>Score Persistence Strategy</h4>
                        <table>
                            <thead>
                                <tr>
                                    <th>Data Type</th>
                                    <th>Storage Method</th>
                                    <th>Update Frequency</th>
                                    <th>Max Size</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Session High Score</strong></td>
                                    <td>File: "highscore.dat"</td>
                                    <td>Every death/level complete</td>
                                    <td>8 bytes</td>
                                </tr>
                                <tr>
                                    <td><strong>All-Time Best</strong></td>
                                    <td>File: "alltime_best.dat"</td>
                                    <td>Write if greater than stored</td>
                                    <td>8 bytes</td>
                                </tr>
                                <tr>
                                    <td><strong>Level Bests</strong></td>
                                    <td>File: "level_best_X.dat"</td>
                                    <td>Write if greater than stored</td>
                                    <td>8 √ó 50 levels = 400 bytes</td>
                                </tr>
                                <tr>
                                    <td><strong>Session Stats</strong></td>
                                    <td>File: "session_stats.dat"</td>
                                    <td>Write on game exit</td>
                                    <td>128 bytes</td>
                                </tr>
                                <tr>
                                    <td><strong>Achievement Bits</strong></td>
                                    <td>File: "achievements.dat"</td>
                                    <td>Bit field (64 achievements = 8 bytes)</td>
                                    <td>8 bytes</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="warning-box">
                            <h5>‚ö†Ô∏è FILE SYSTEM CONSTRAINTS</h5>
                            <ul>
                                <li><strong>No directory listing</strong> - Cannot browse folders, must know exact filenames</li>
                                <li><strong>No file size query</strong> - Cannot check file size before reading (avoid large files)</li>
                                <li><strong>Must exist before write</strong> - Create file with write before using</li>
                                <li><strong>Corruption risk</strong> - Implement checksums for save files</li>
                                <li><strong>Solution:</strong> Use fixed-slot save system (3 slots) with simple versioning</li>
                            </ul>
                        </div>

                        <div class="code-block">
                            <h5>Safe Save File System</h5>
                            <code>-- Save data structure
local SAVE_VERSION = 1
local CHECKSUM_BYTES = 4  -- Simple checksum

local saveData = {
    version = SAVE_VERSION,
    timestamp = os.time(),
    player = {
        x = player.x,
        y = player.y,
        direction = player.direction,
        health = player.health,
        maxHealth = player.maxHealth,
        score = player.score,
        deaths = player.deaths,
        kills = player.kills,
        currentLevel = currentLevel
    },
    inventory = {
        weapons = player.inventory.weapons,
        currentWeapon = player.inventory.currentWeapon,
        ammo = player.inventory.ammo,
        consumables = player.inventory.consumables,
        keys = player.inventory.keys,
        equipment = {
            armor = player.inventory.armor,
            accessory = player.inventory.accessory
        }
    },
    achievements = player.achievements,  -- Bit field
    levelProgress = {
        [1] = {completed = true, bestScore = 5000, secrets = 3},
        [2] = {completed = false, bestScore = 0, secrets = 0},
        -- ... up to level 50
    },
    checksum = 0  -- Calculated below
}

-- Calculate simple checksum
function calculateChecksum(data)
    local sum = 0
    for i = 1, #data do
        sum = sum + string.byte(data, i)
    end
    return sum % 65536  -- 16-bit checksum
end

-- Save game
function saveGame()
    saveData.checksum = calculateChecksum(serialize(saveData))
    local jsonData = serialize(saveData)  -- Custom table-to-JSON

    vmupro.file.write("save_slot_1.dat", jsonData)
    showNotification("GAME SAVED")
end

-- Load game with validation
function loadGame(slot)
    local data = vmupro.file.read("save_slot_" .. slot .. ".dat")

    -- Verify checksum
    local storedChecksum = extractChecksum(data)
    local calculatedChecksum = calculateChecksum(stripChecksum(data))

    if storedChecksum ~= calculatedChecksum then
        showError("Save file corrupted!")
        return nil
    end

    -- Version check
    local version = extractVersion(data)
    if version &lt; SAVE_VERSION then
        showError("Save version too old!")
        return nil
    end

    return deserialize(stripChecksum(data))
end</code>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 3: INVENTORY -->
            <div id="inventory" class="section">
                <h2>3. üéí COMPLETE INVENTORY & EQUIPMENT OVERHAUL</h2>

                <div class="subsection">
                    <h3>3.1 Weapon System (15+ Weapons)</h3>
                    <div class="feature-card">
                        <h4>Tiered Weapon Progression</h4>
                        <table>
                            <thead>
                                <tr>
                                    <th>Weapon</th>
                                    <th>Damage</th>
                                    <th>Range</th>
                                    <th>Speed</th>
                                    <th>Special</th>
                                    <th>Ammo</th>
                                    <th>Found In</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="background: #fff3cd;">
                                    <td colspan="8"><strong>TIER 1: STARTING WEAPONS (Level 1-2)</strong></td>
                                </tr>
                                <tr>
                                    <td>Warrior Sword</td>
                                    <td>20</td>
                                    <td>1.0</td>
                                    <td>1.0x</td>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>Starting</td>
                                </tr>
                                <tr>
                                    <td>Wooden Bow</td>
                                    <td>15</td>
                                    <td>6.0</td>
                                    <td>0.8x</td>
                                    <td>Quick shot</td>
                                    <td>Bolt (40)</td>
                                    <td>Level 1 secret</td>
                                </tr>
                                <tr style="background: #e8f5e9;">
                                    <td colspan="8"><strong>TIER 2: MID-GAME WEAPONS (Level 3-5)</strong></td>
                                </tr>
                                <tr>
                                    <td>Battle Axe</td>
                                    <td>35</td>
                                    <td>0.8</td>
                                    <td>0.7x</td>
                                    <td>Armor pierce</td>
                                    <td>-</td>
                                    <td>Level 3</td>
                                </tr>
                                <tr>
                                    <td>Speed Dagger</td>
                                    <td>12</td>
                                    <td>0.7</td>
                                    <td>1.5x</td>
                                    <td>Fast attacks</td>
                                    <td>-</td>
                                    <td>Level 3 shop</td>
                                </tr>
                                <tr>
                                    <td>War Hammer</td>
                                    <td>50</td>
                                    <td>0.6</td>
                                    <td>0.5x</td>
                                    <td>Stun chance</td>
                                    <td>-</td>
                                    <td>Level 4 secret</td>
                                </tr>
                                <tr>
                                    <td>Holy Sword</td>
                                    <td>25</td>
                                    <td>1.2</td>
                                    <td>1.0x</td>
                                    <td>+2x undead</td>
                                    <td>-</td>
                                    <td>Level 5 boss drop</td>
                                </tr>
                                <tr>
                                    <td>Crossbow</td>
                                    <td>30</td>
                                    <td>10.0</td>
                                    <td>0.7x</td>
                                    <td>Piercing shot</td>
                                    <td>Bolt (20)</td>
                                    <td>Level 5 chest</td>
                                </tr>
                                <tr style="background: #d4ac0d;">
                                    <td colspan="8"><strong>TIER 3: LATE-GAME WEAPONS (Level 6+)</strong></td>
                                </tr>
                                <tr>
                                    <td>Fireball Wand</td>
                                    <td>40</td>
                                    <td>6.0</td>
                                    <td>0.6x</td>
                                    <td>Explosion</td>
                                    <td>Fireball (15)</td>
                                    <td>Level 7 secret</td>
                                </tr>
                                <tr>
                                    <td>Magic Staff</td>
                                    <td>35</td>
                                    <td>5.0</td>
                                    <td>0.5x</td>
                                    <td>Mana drain</td>
                                    <td>Mana Potion (20)</td>
                                    <td>Level 9 shop</td>
                                </tr>
                                <tr>
                                    <td>Legendary Blade</td>
                                    <td>60</td>
                                    <td>1.5</td>
                                    <td>1.3x</td>
                                    <td>Vampire +10% HP</td>
                                    <td>-</td>
                                    <td>Level 10 hidden</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="info-box">
                            <h5>Weapon Upgrade System</h5>
                            <p style="margin: 8px 0;">Find weapon upgrade kits in levels. Upgrade: Damage +5, Attack Speed +10%, Add Special Effect.</p>
                            <p><strong>Example:</strong> Warrior Sword (20 dmg) ‚Üí Razor Sharp (25 dmg) ‚Üí Flame Blade (30 dmg + burn effect)</p>
                            <p><strong>Weapon Durability:</strong> Limited-use weapons (20 attacks) break and revert to basic sword. Creates tension and resource management.</p>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>3.2 Armor System (8 Armor Types)</h3>
                    <div class="feature-card">
                        <h4>Progressive Armor Tree</h4>
                        <table>
                            <thead>
                                <tr>
                                    <th>Armor</th>
                                    <th>Defense</th>
                                    <th>Speed Mod</th>
                                    <th>Special</th>
                                    <th>Cost</th>
                                    <th>Found In</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>None (Clothes)</td>
                                    <td>0</td>
                                    <td>1.0x</td>
                                    <td>-</td>
                                    <td>Starting</td>
                                    <td>-</td>
                                </tr>
                                <tr>
                                    <td>Leather Armor</td>
                                    <td>5</td>
                                    <td>0.95x</td>
                                    <td>-</td>
                                    <td>100 gold</td>
                                    <td>Level 1 shop</td>
                                </tr>
                                <tr>
                                    <td>Chain Mail</td>
                                    <td>10</td>
                                    <td>0.9x</td>
                                    <td>-</td>
                                    <td>250 gold</td>
                                    <td>Level 2 shop</td>
                                </tr>
                                <tr>
                                    <td>Plate Armor</td>
                                    <td>20</td>
                                    <td>0.85x</td>
                                    <td>-</td>
                                    <td>500 gold</td>
                                    <td>Level 4 chest</td>
                                </tr>
                                <tr>
                                    <td>Enchanted Plate</td>
                                    <td>30</td>
                                    <td>0.9x</td>
                                    <td>+20% magic</td>
                                    <td>1000 gold</td>
                                    <td>Level 7 secret</td>
                                </tr>
                                <tr>
                                    <td>Dragon Scale</td>
                                    <td>50</td>
                                    <td>0.7x</td>
                                    <td>Fire immune</td>
                                    <td>Boss drop</td>
                                    <td>Kill Dragon boss</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="warning-box">
                            <h5>‚ö†Ô∏è ARMOR TRADE-OFFS</h5>
                            <p>Heavy armor = slower movement but tank hits. Light armor = fast but fragile. Speedrunning builds favor light armor. Completionist builds favor heavy armor.</p>
                            <p><strong>Damage reduction:</strong> finalDamage = incomingDamage - armorDefense (minimum 1 damage always taken).</p>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>3.3 Accessory & Trinket System (20+ Items)</h3>
                    <div class="feature-card">
                        <h4>Accessory Slots</h4>
                        <p><strong>1 Ring Slot + 1 Amulet Slot</strong></p>
                        <table>
                            <thead>
                                <tr>
                                    <th>Item</th>
                                    <th>Effect</th>
                                    <th>Duration</th>
                                    <th>Stackable</th>
                                    <th>Rarity</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="background: #e8f5e9;">
                                    <td colspan="6"><strong>COMBAT RINGS (8)</strong></td>
                                </tr>
                                <tr>
                                    <td>Ring of Strength</td>
                                    <td>+5 damage</td>
                                    <td>-</td>
                                    <td>No</td>
                                    <td>Common</td>
                                </tr>
                                <tr>
                                    <td>Ring of Protection</td>
                                    <td>+10 defense</td>
                                    <td>-</td>
                                    <td>No</td>
                                    <td>Common</td>
                                </tr>
                                <tr>
                                    <td>Ring of Haste</td>
                                    <td>+20% speed</td>
                                    <td>-</td>
                                    <td>No</td>
                                    <td>Uncommon</td>
                                </tr>
                                <tr>
                                    <td>Ring of Vampirism</td>
                                    <td>+15% lifesteal</td>
                                    <td>-</td>
                                    <td>No</td>
                                    <td>Rare</td>
                                </tr>
                                <tr>
                                    <td>Ring of Regeneration</td>
                                    <td>+2 HP/5s</td>
                                    <td>-</td>
                                    <td>No</td>
                                    <td>Rare</td>
                                </tr>
                                <tr>
                                    <td>Ring of Thorns</td>
                                    <td>Reflect 10 damage</td>
                                    <td>-</td>
                                    <td>No</td>
                                    <td>Epic</td>
                                </tr>
                                <tr>
                                    <td>Ring of Wealth</td>
                                    <td>+50% gold from enemies</td>
                                    <td>-</td>
                                    <td>No</td>
                                    <td>Uncommon</td>
                                </tr>
                                <tr style="background: #d4ac0d;">
                                    <td colspan="6"><strong>UTILITY AMULETS (6)</strong></td>
                                </tr>
                                <tr>
                                    <td>Amulet of Luck</td>
                                    <td>+25% critical hit chance</td>
                                    <td>-</td>
                                    <td>No</td>
                                    <td>Uncommon</td>
                                </tr>
                                <tr>
                                    <td>Amulet of Sight</td>
                                    <td>Show hidden doors/traps</td>
                                    <td>Passive</td>
                                    <td>No</td>
                                    <td>Rare</td>
                                </tr>
                                <tr>
                                    <td>Amulet of Health</td>
                                    <td>+30 max HP</td>
                                    <td>-</td>
                                    <td>No</td>
                                    <td>Common</td>
                                </tr>
                                <tr>
                                    <td>Amulet of Shielding</td>
                                    <td>Absorb 25 damage (one-time shield)</td>
                                    <td>Recharges at save points</td>
                                    <td>No</td>
                                    <td>Rare</td>
                                </tr>
                                <tr style="background: #ffeaa7;">
                                    <td colspan="6"><strong>ACTIVE CONSUMABLES (6)</strong></td>
                                </tr>
                                <tr>
                                    <td>Phoenix Down</td>
                                    <td>Auto-revive on death (once)</td>
                                    <td>Instant</td>
                                    <td>No</td>
                                    <td>Legendary</td>
                                </tr>
                                <tr>
                                    <td>Bomb Bag (3)</td>
                                    <td>Placeable explosives</td>
                                    <td>-</td>
                                    <td>Yes (max 3)</td>
                                    <td>Uncommon</td>
                                </tr>
                                <tr>
                                    <td>Grappling Hook</td>
                                    <td>Pull player 3 tiles toward enemy</td>
                                    <td>Single-use</td>
                                    <td>No</td>
                                    <td>Rare</td>
                                </tr>
                                <tr>
                                    <td>Decoy</td>
                                    <td>Spawns fake player for 5 seconds</td>
                                    <td>-</td>
                                    <td>No</td>
                                    <td>Uncommon</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="code-block">
                            <h5>Accessory System Implementation</h5>
                            <code>-- Accessory data structure
accessories = {
    ring = nil,
    amulet = nil
}

function equipRing(ring)
    if accessories.ring then
        unequipRing(accessories.ring)
    end

    accessories.ring = ring
    applyRingEffect(ring)
    showNotification("Equipped: " .. ring.name)
end

function unequipRing(ring)
    removeRingEffect(ring)
    showNotification("Unequipped: " .. ring.name)
end

function applyRingEffect(ring)
    if ring.id == "ring_strength" then
        player.damageBonus = 5
    elseif ring.id == "ring_protection" then
        player.defenseBonus = 10
    elseif ring.id == "ring_vampirism" then
        player.lifestealPercent = 0.15
    elseif ring.id == "ring_haste" then
        player.speedMultiplier = player.speedMultiplier * 1.2
    end
    recalculateStats()
end

function onDealDamage(damage, attacker)
    -- Thorns ring effect
    if accessories.ring ~= nil and accessories.ring.reflectDamage then
        local reflectDamage = math.floor(damage * 0.1)
        dealDamageTo(attacker, reflectDamage)
        showFloatingText(reflectDamage, attacker.x, attacker.y)
        playSound("thorns_hit")
    end
end</code>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 10: NARRATIVE & STORY SYSTEM -->
            <div id="quest" class="section">
                <h2>10. üìñ COMPLETE NARRATIVE & SLIDESHOW SYSTEM</h2>

                <div class="subsection">
                    <h3>10.1 The Inner Sanctum - Complete Story Arc</h3>
                    <div class="feature-card">
                        <h4>üìú BACKSTORY: THE FALL OF SANCTUM</h4>

                        <div style="background: #1a1a2e; color: #e0e0e0; padding: 30px; border-radius: 12px; margin: 20px 0; border-left: 6px solid #ffd700; font-family: 'Georgia', serif; line-height: 1.8;">
                            <p style="font-size: 1.2em; margin-bottom: 20px;">
                                <em>"In ages long forgotten, the Inner Sanctum stood as a beacon of hope - a cathedral built upon holy ground, where the bravest warriors came to train, and the wisest scholars gathered to study the arcane arts. Its towers pierced the clouds, its bells rang across the realm, and its light shone as a promise that evil would never prevail."</em>
                            </p>
                            <p style="margin-bottom: 15px;">
                                Then came the <strong>Sorcerer Malachar</strong> - once the Sanctum's greatest protector, twisted by forbidden knowledge from dimensions beyond our understanding. In a single night of blood and fire, he corrupted the holy foundations, transformed the priests into undead horrors, and sealed the gates with a curse that would last for eternity.
                            </p>
                            <p style="margin-bottom: 15px;">
                                The <strong>High Priestess Elara</strong>, foreseeing the fall, hid the <strong>Crystal of Purity</strong> - the only artifact capable of breaking the curse - within the deepest chamber of the Sanctum. She divided the crystal into five fragments, scattering them across the corrupted zones, each guarded by one of Malachar's lieutenants.
                            </p>
                            <p style="margin-bottom: 15px;">
                                Now, <strong>you</strong> - the last descendant of the Sanctum's guardians - must return. Armed with your ancestors' knowledge and driven by visions of the past, you descend into the darkness. Your mission: <strong>Recover the crystal fragments. Defeat the lieutenants. Confront Malachar. Purify the Inner Sanctum.</strong>
                            </p>
                            <p style="color: #ffd700; font-style: italic; margin-top: 20px;">
                                "The light shines brightest in the darkest places. May your blade be true, and your heart be pure."
                            </p>
                        </div>

                        <div class="mega-list" style="margin-top: 30px;">
                            <div class="mega-list-item">
                                <h5>üé≠ KEY CHARACTERS</h5>
                                <ul>
                                    <li><strong>THE PROTAGONIST (You)</strong> - Last guardian of the Sanctum bloodline. You've trained your entire life for this moment, guided by visions of your ancestors.</li>
                                    <li><strong>SORCERER MALACHAR</strong> - Primary antagonist. Once the Sanctum's Archmage, corrupted by dimensional magic. Seeks to merge realms and rule as an eternal god-king.</li>
                                    <li><strong>HIGH PRIESTESS ELARA</strong> - Guide and narrator (appears in visions). Sacrificed herself to hide the crystal fragments. Her spirit lingers to aid you.</li>
                                    <li><strong>CAPTAIN VORATH</strong> - Lieutenant 1 (Dungeon Zone). Former commander of the Sanctum guard, now an armored juggernaut driven by loyalty to Malachar.</li>
                                    <li><strong>LADY SERAPHINA</strong> - Lieutenant 2 (Crypt Zone). Elven sorceress, master of necromancy. Seeks to perfect her undead army.</li>
                                    <li><strong>THE BEAST ZOG</strong> - Lieutenant 3 (Catacombs). Experiment in dimensional fusion - half-human, half-demon, all rage.</li>
                                    <li><strong>ASSASSIN KIRA</strong> - Lieutenant 4 (Tower). Shadow warrior who moves between dimensions. Impossible to hit without special equipment.</li>
                                    <li><strong>GENERAL MALUS</strong> - Lieutenant 5 (Throne Room). Malachar's second-in-command. Tactical genius commanding the Sanctum's army.</li>
                                </ul>
                            </div>
                            <div class="mega-list-item">
                                <h5>üè∞ THE FIVE CORRUPTED ZONES</h5>
                                <ul>
                                    <li><strong>ZONE 1: THE DUNGEON (Levels 1-5)</strong> - Once prison cells, now home to corrupted soldiers and basic undead. Vorath's domain. <em>Learning zone - master combat basics.</em></li>
                                    <li><strong>ZONE 2: THE CRYPT (Levels 6-10)</strong> - Ancient burial grounds, now crawling with skeletons, ghosts, and Seraphina's necromantic creations. <em>Undead focus - holy weapons shine.</em></li>
                                    <li><strong>ZONE 3: THE CATACOMBS (Levels 11-15)</strong> - Deep tunnels where reality thins. Dimensional rifts spawn bizarre creatures. Zog's hunting ground. <em>Chaotic battles - adapt to unpredictable enemies.</em></li>
                                    <li><strong>ZONE 4: THE OBSIDIAN TOWER (Levels 16-20)</strong> - Vertical ascent through magical laboratories. Kira's domain of shadows and illusions. <em>Puzzle-light hybrid - find paths, overcome ambushes.</em></li>
                                    <li><strong>ZONE 5: THE THRONE ROOM (Levels 21-25)</strong> - Final approach to Malachar. General Malus's army stands between you and destiny. <em>All skills tested - ultimate challenge before the end.</em></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>10.2 Slide Show System Design</h3>
                    <div class="feature-card">
                        <h4>üé¨ BETWEEN-LEVEL NARRATIVE PRESENTATION</h4>

                        <div class="highlight-box">
                            <h4>SLIDE SHOW FLOW</h4>
                            <ol style="margin: 20px 0 20px 40px; line-height: 1.8;">
                                <li><strong>Level Complete</strong> - Score summary displayed for 3 seconds</li>
                                <li><strong>Fade to Black</strong> - 1 second transition</li>
                                <li><strong>Slide 1 Fade In</strong> - Background image + text appears</li>
                                <li><strong>Player Input</strong> - Press A to advance, B to skip, START for pause menu</li>
                                <li><strong>Slide 2...N</strong> - Each slide auto-advances after 8 seconds or manual input</li>
                                <li><strong>Final Slide</strong> - "PRESS START TO CONTINUE" prompt</li>
                                <li><strong>Level Begin</strong> - Briefing slide loads ‚Üí gameplay starts</li>
                            </ol>
                        </div>

                        <div class="code-block">
                            <h5 style="color: #ffd700; margin-top: 20px;">Slide Show Implementation</h5>
                            <code>-- Story slide system for between levels
storyData = {
    zone1Complete = {
        slides = {
            {
                background = "sprites/story/dungeon_victory.png",
                text = "With Captain Vorath defeated, the path forward opens...",
                duration = 8000,  -- 8 seconds
                music = "music/victory_chime"
            },
            {
                background = "sprites/story/crypt_entrance.png",
                text = "The Crypt awaits. Ancient dead stir at your approach.",
                duration = 8000,
                music = "music/creepy_ambience"
            },
            {
                background = "sprites/story/elara_vision.png",
                text = "PRIESTESS ELARA: 'The second fragment lies within the Crypt's heart. Beware - Lady Seraphina's necromancy has corrupted all who rest there.'",
                speaker = "High Priestess Elara",
                voiceLine = "voice/elara_crypt_intro",
                duration = 10000,
                music = "music/spiritual_theme"
            },
            {
                background = "sprites/story/level_preview.png",
                text = "LEVEL 6: THE CRYPT ENTRANCE\nFind the Crypt Key. Unlock the sealed gates.",
                speaker = "Narrator",
                duration = 6000,
                isBriefing = true
            }
        }
    }
}

function showSlideShow(slideSetName)
    local slides = storyData[slideSetName].slides
    local currentSlide = 1
    local slideTimer = 0
    local showBriefing = false

    -- Save current game state
    saveCheckpoint()

    -- Transition to slideshow mode
    gameState = "SLIDESHOW"

    -- Play zone-complete music
    playMusic("music/zone_complete")

    function updateSlideShow(dt)
        slideTimer = slideTimer + dt

        local currentSlideData = slides[currentSlide]

        -- Auto-advance after duration
        if slideTimer &gt;= currentSlideData.duration then
            advanceSlide()
        end

        -- Check for input
        if input.pressed.A then
            advanceSlide()
        elseif input.pressed.B then
            skipToEnd()
        elseif input.pressed.START then
            pauseGame()
        end
    end

    function advanceSlide()
        currentSlide = currentSlide + 1
        slideTimer = 0

        if currentSlide &gt; #slides then
            -- All slides shown - transition to gameplay
            startNextLevel()
        else
            -- Load next slide assets
            loadSlide(slides[currentSlide])
            playSound("page_turn")
        end
    end

    function skipToEnd()
        -- Fast-forward to briefing slide
        for i, slide in ipairs(slides) do
            if slide.isBriefing then
                currentSlide = i
                loadSlide(slide)
                return
            end
        end
        -- No briefing found - start level
        startNextLevel()
    end

    function loadSlide(slideData)
        -- Load background
        currentSlideBackground = vmupro.sprites.load(slideData.background)

        -- Play music if specified
        if slideData.music then
            playMusic(slideData.music)
        end

        -- Play voice line if exists
        if slideData.voiceLine then
            playVoice(slideData.voiceLine)
        end
    end

    function drawSlideShow()
        -- Draw background (scaled to 240x240)
        vmupro.display.drawSprite(currentSlideBackground, 0, 0, 240, 240)

        -- Draw semi-transparent text box at bottom
        vmupro.display.fillRect(0, 180, 240, 60, {0, 0, 0, 180})

        -- Draw speaker name if present
        local currentSlideData = slides[currentSlide]
        if currentSlideData.speaker then
            vmupro.display.text(currentSlideData.speaker, 10, 160, {255, 215, 0}, "small")
        end

        -- Draw slide text (word-wrapped)
        local wrappedText = wordWrap(currentSlideData.text, 26)
        vmupro.display.text(wrappedText, 10, 195, {255, 255, 255}, "normal")

        -- Draw "PRESS A TO ADVANCE" prompt (fades in after 2 seconds)
        if slideTimer &gt; 2000 then
            local alpha = math.min(255, (slideTimer - 2000) / 20)
            local pulseAlpha = alpha * (0.7 + 0.3 * math.sin(slideTimer / 500))
            vmupro.display.text("A: Advance  B: Skip", 10, 230, {255, 255, 255, pulseAlpha}, "small")
        end

        -- Draw progress indicator (dots)
        for i = 1, #slides do
            local x = 220 - (#slides - i) * 8
            local color = i == currentSlide and {255, 215, 0} or {100, 100, 100}
            vmupro.display.fillCircle(x, 10, 3, color)
        end
    end
end</code>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>10.3 Complete Story Scripts by Level</h3>
                    <div class="feature-card">
                        <h4>üìù ALL NARRATIVE BEATS</h4>

                        <div style="margin: 30px 0;">
                            <strong style="font-size: 1.3em; color: #667eea;">PROLOGUE: THE DESCENT BEGINS</strong>
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 15px 0;">
                                <p><strong>Slide 1:</strong> Black screen. Title text fades in: "INNER SANCTUM"</p>
                                <p><strong>Slide 2:</strong> Narrator text: "For five hundred years, the Inner Sanctum has waited. Corrupted. Silent. Hungry."</p>
                                <p><strong>Slide 3:</strong> Narrator text: "You are the last of the Guardians. Your bloodline carries the burden of duty."</p>
                                <p><strong>Slide 4:</strong> First vision of Elara (spirit form): "Child of the Sanctum... the time has come. The crystal fragments call to you."</p>
                                <p><strong>Slide 5:</strong> Elara: "Five corrupted zones. Five corrupted lieutenants. One chance to purify us all."</p>
                                <p><strong>Slide 6:</strong> Briefing: "LEVEL 1: THE DUNGEON GATES - Kill 5 soldiers. Find the exit."</p>
                            </div>
                        </div>

                        <div style="margin: 30px 0;">
                            <strong style="font-size: 1.3em; color: #667eea;">ZONE 1 COMPLETE: DEFEAT OF VORATH</strong>
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 15px 0;">
                                <p><strong>Slide 1:</strong> Vorath death scene (described in text): "Captain Vorath falls to his knees, his corrupted armor crumbling."</p>
                                <p><strong>Slide 2:</strong> Vorath final words: "Malachar... promised... eternal... glory..." (fades away)</p>
                                <p><strong>Slide 3:</strong> Crystal fragment obtained: "A fragment of pure light emerges from Vorath's remains. It merges with your spirit."</p>
                                <p><strong>Slide 4:</strong> Elara appears: "The first fragment is yours. Four more remain. The Crypt calls to you..."</p>
                                <p><strong>Slide 5:</strong> Crypt preview: "LEVEL 6: THE CRYPT ENTRANCE - Undead horrors stir. Holy weapons recommended."</p>
                            </div>
                        </div>

                        <div style="margin: 30px 0;">
                            <strong style="font-size: 1.3em; color: #667eea;">ZONE 2 COMPLETE: DEFEAT OF SERAPHINA</strong>
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 15px 0;">
                                <p><strong>Slide 1:</strong> Seraphina defeat: "The elven sorceress's spells fail. Her necromantic power fades."</p>
                                <p><strong>Slide 2:</strong> Seraphina: "You... you're not Malachar's pawn? What... have I done?" (dissolves into spectral form)</p>
                                <p><strong>Slide 3:</strong> Crystal fragment: "The second fragment joins the first. Your light grows stronger."</p>
                                <p><strong>Slide 4:</strong> Elara: "Seraphina was once kind. Malachar's corruption twists all. Be wary of the Beast Zog - he has no trace of humanity left."</p>
                                <p><strong>Slide 5:</strong> Catacombs preview: "LEVEL 11: THE CATACOMBS - Dimensional rifts tear reality. Survive the chaos."</p>
                            </div>
                        </div>

                        <div style="margin: 30px 0;">
                            <strong style="font-size: 1.3em; color: #667eea;">ZONE 3 COMPLETE: DEFEAT OF ZOG</strong>
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 15px 0;">
                                <p><strong>Slide 1:</strong> Zog's rage: "The beast howls as your blade strikes true. Half-demon, half-man - all monster."</p>
                                <p><strong>Slide 2:</strong> Zog's final moments: "FREE... AT LAST..." (explodes into light, banishing the demonic essence)</p>
                                <p><strong>Slide 3:</strong> Crystal fragment: "Three fragments united. The seal on your ancestral blade awakens."</p>
                                <p><strong>Slide 4:</strong> Elara: "Zog was Malachar's greatest experiment - and his greatest failure. The Obsidian Tower awaits. Kira guards its shadows."</p>
                                <p><strong>Slide 5:</strong> Tower preview: "LEVEL 16: THE OBSIDIAN TOWER - Illusions deceive. Trust your instincts, not your eyes."</p>
                            </div>
                        </div>

                        <div style="margin: 30px 0;">
                            <strong style="font-size: 1.3em; color: #667eea;">ZONE 4 COMPLETE: DEFEAT OF KIRA</strong>
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 15px 0;">
                                <p><strong>Slide 1:</strong> Kira trapped: "Your Amulet of Sight reveals her true position. The shadow assassin cannot hide."</p>
                                <p><strong>Slide 2:</strong> Kira's respect: "Hah... finally... a worthy opponent." (bows before fading into nothing)</p>
                                <p><strong>Slide 3:</strong> Crystal fragment: "Four fragments glow within you. Only one remains before Malachar's throne."</p>
                                <p><strong>Slide 4:</strong> Elara: "Kira was the last obstacle before the Throne Room. General Malus commands the Sanctum's full army. This will be your greatest test."</p>
                                <p><strong>Slide 5:</strong> Throne Room preview: "LEVEL 21: THE THRONE ROOM - General Malus awaits. All your skills will be tested."</p>
                            </div>
                        </div>

                        <div style="margin: 30px 0;">
                            <strong style="font-size: 1.3em; color: #667eea;">ZONE 5 COMPLETE: DEFEAT OF MALUS</strong>
                            <div style="background: #fff3cd; padding: 20px; border-radius: 10px; margin: 15px 0; border: 3px solid #ffc107;">
                                <p><strong>Slide 1:</strong> Malus recognition: "The general sees your face. Recognizes your bloodline. Hesitates for one fatal moment."</p>
                                <p><strong>Slide 2:</strong> Malus's choice: "Your ancestors... would be proud. Finish it." (accepts death with honor)</p>
                                <p><strong>Slide 3:</strong> Final fragment: "All five fragments merge within you. The Crystal of Purity is whole again."</p>
                                <p><strong>Slide 4:</strong> Elara's revelation: "You've come further than any Guardian. But Malachar awaits in the deepest sanctum. He will not fall easily."</p>
                                <p><strong>Slide 5:</strong> Final challenge: "FINAL BOSS: SORCERER MALACHAR - The corrupted Archmage. The Sanctum's destroyer. Your destiny awaits."</p>
                            </div>
                        </div>

                        <div style="margin: 30px 0;">
                            <strong style="font-size: 1.3em; color: #00b894;">ENDING: THE LIGHT RETURNS</strong>
                            <div style="background: #d4edda; padding: 20px; border-radius: 10px; margin: 15px 0; border: 3px solid #00b894;">
                                <p><strong>Slide 1:</strong> Malachar defeated: "The Crystal of Purity flares with blinding light. Malachar screams as corruption burns away."</p>
                                <p><strong>Slide 2:</strong> Malachar's final words: "NO... THE POWER... IT WAS... MINE..." (dissolves into ash)</p>
                                <p><strong>Slide 3:</strong> Purification begins: "The Inner Sanctum trembles. Walls that were black with corruption shine white once more."</p>
                                <p><strong>Slide 4:</strong> Elara freed: "Priestess Elara's spirit appears, whole and radiant. 'You've done it, child. The Sanctum is free.'" (embraces you - warmth, light, peace)</p>
                                <p><strong>Slide 5:</strong> The spirits rise: "All who were corrupted - Vorath, Seraphina, Zog, Kira, Malus - appear as their true selves. They bow to you, then fade to peace."</p>
                                <p><strong>Slide 6:</strong> Final montage: "The Sanctum's bells ring for the first time in 500 years. Light streams through every window. The curse is broken."</p>
                                <p><strong>Slide 7:</strong> Victory screen: "CONGRATULATIONS! You have purified the Inner Sanctum. Final Score: [SCORE] - Rank: [RANK]"</p>
                                <p><strong>Slide 8:</strong> Post-credits: "In the aftermath, the Sanctum became a beacon once more. Warriors train. Scholars study. And the last Guardian became its first High Priest - ensuring the darkness never returns."</p>
                            </div>
                        </div>

                        <div style="margin: 30px 0;">
                            <strong style="font-size: 1.3em; color: #e74c3c;">SECRET ENDING: THE FORGOTTEN TRUTH</strong>
                            <div style="background: #ffebee; padding: 20px; border-radius: 10px; margin: 15px 0; border: 3px solid #e74c3c;">
                                <p><strong>Requirement:</strong> Complete game, find all 25 secrets, achieve S-rank on all levels</p>
                                <p><strong>Slide 1:</strong> After credits, mysterious cutscene triggers</p>
                                <p><strong>Slide 2:</strong> Elara returns: "Wait. There is something you must know. The corruption... it didn't start with Malachar."</p>
                                <p><strong>Slide 3:</strong> The revelation: "The Sanctum was built on a seal. Ancient. Eldritch. Malachar tried to control it. Instead... it controlled him."</p>
                                <p><strong>Slide 4:</strong> The truth: "What you purified was a symptom. The true darkness lies beneath. It has waited eons. It is... patient."</p>
                                <p><strong>Slide 5:</strong> Elara fades: "You are not the first Guardian. There were others before you. They are... still here. In the darkness. Calling."</p>
                                <p><strong>Slide 6:</strong> Screen fades to black. Last words: "THE INNER SANCTUM 2: THE DEPTHS - Coming Soon"</p>
                                <p><strong>Unlock:</strong> New Game+ mode with remixed levels, harder enemies, true ending quest</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>10.4 Dialogue System Design</h3>
                    <div class="feature-card">
                        <h4>üí¨ IN-GAME DIALOGUE ENGINE</h4>

                        <div class="code-block">
                            <h5>Dialogue Implementation</h5>
                            <code>-- Dialogue system for in-game NPCs and visions
dialogueSystem = {
    isActive = false,
    currentDialogue = nil,
    currentLine = 0,
    speakerQueue = {},
    typewriterText = "",
    typewriterIndex = 0,
    typewriterTimer = 0,
    typewriterSpeed = 30,  -- ms per character
    choiceMode = false,
    currentChoices = {}
}

function startDialogue(npcId, dialogueTree)
    dialogueSystem.isActive = true
    dialogueSystem.currentDialogue = dialogueTree
    dialogueSystem.currentLine = dialogueTree.start
    dialogueSystem.typewriterText = ""
    dialogueSystem.typewriterIndex = 0

    -- Pause game
    gameState = "DIALOGUE"

    -- Play dialogue open sound
    playSound("dialogue_open")

    -- Show first line
    displayDialogueLine()
end

function displayDialogueLine()
    local line = dialogueSystem.currentDialogue.lines[dialogueSystem.currentLine]

    -- Set up typewriter effect
    dialogueSystem.typewriterText = ""
    dialogueSystem.typewriterIndex = 0
    dialogueSystem.typewriterTimer = 0

    -- Load speaker portrait if exists
    if line.portrait then
        dialogueSystem.speakerPortrait = loadPortrait(line.portrait)
    end

    -- Play voice line if exists
    if line.voice then
        playVoice(line.voice)
    end

    -- Check for choices
    if line.choices then
        dialogueSystem.choiceMode = true
        dialogueSystem.currentChoices = line.choices
    else
        dialogueSystem.choiceMode = false
    end
end

function updateDialogue(dt)
    if not dialogueSystem.isActive then
        return
    end

    local line = dialogueSystem.currentDialogue.lines[dialogueSystem.currentLine]

    -- Typewriter effect
    if dialogueSystem.typewriterIndex &lt; #line.text then
        dialogueSystem.typewriterTimer = dialogueSystem.typewriterTimer + dt

        if dialogueSystem.typewriterTimer &gt;= dialogueSystem.typewriterSpeed then
            dialogueSystem.typewriterIndex = dialogueSystem.typewriterIndex + 1
            dialogueSystem.typewriterText = string.sub(line.text, 1, dialogueSystem.typewriterIndex)
            dialogueSystem.typewriterTimer = 0

            -- Play typewriter sound every 3 chars
            if dialogueSystem.typewriterIndex % 3 == 0 then
                playSound("typewriter_tick")
            end
        end
    end

    -- Handle input
    if input.pressed.A then
        if dialogueSystem.choiceMode then
            -- Select choice (implemented with up/down)
            selectChoice()
        elseif dialogueSystem.typewriterIndex &lt; #line.text then
            -- Skip typewriter
            dialogueSystem.typewriterText = line.text
            dialogueSystem.typewriterIndex = #line.text
        else
            -- Advance to next line
            advanceDialogue()
        end
    elseif input.pressed.B then
        -- Skip dialogue (if allowed)
        if line.allowSkip then
            endDialogue()
        end
    elseif input.pressed.UP then
        if dialogueSystem.choiceMode then
            dialogueSystem.selectedChoice = dialogueSystem.selectedChoice - 1
            if dialogueSystem.selectedChoice &lt; 1 then
                dialogueSystem.selectedChoice = #dialogueSystem.currentChoices
            end
            playSound("choice_select")
        end
    elseif input.pressed.DOWN then
        if dialogueSystem.choiceMode then
            dialogueSystem.selectedChoice = dialogueSystem.selectedChoice + 1
            if dialogueSystem.selectedChoice &gt; #dialogueSystem.currentChoices then
                dialogueSystem.selectedChoice = 1
            end
            playSound("choice_select")
        end
    end
end

function advanceDialogue()
    local line = dialogueSystem.currentDialogue.lines[dialogueSystem.currentLine]

    if line.next then
        -- Go to next line
        dialogueSystem.currentLine = line.next
        displayDialogueLine()
        playSound("dialogue_next")
    elseif line.action then
        -- Execute action
        executeDialogueAction(line.action)
    else
        -- End dialogue
        endDialogue()
    end
end

function executeDialogueAction(action)
    if action == "give_item" then
        givePlayerItem(action.item)
    elseif action == "start_quest" then
        activateQuest(action.questId)
    elseif action == "teleport" then
        teleportPlayer(action.x, action.y, action.level)
    elseif action == "battle" then
        startBattle(action.enemies)
    elseif action == "shop" then
        openShop(action.shopId)
    end
end

function endDialogue()
    dialogueSystem.isActive = false
    gameState = "PLAYING"
    playSound("dialogue_close")
end

-- Example dialogue tree: Elara visions
elaraDialogues = {
    firstFragment = {
        start = 1,
        lines = {
            [1] = {
                speaker = "Elara",
                portrait = "elara_spirit",
                text = "Guardian... the fragment glows within you. Vorath's corruption fades.",
                voice = "elara_fragment1",
                next = 2
            },
            [2] = {
                speaker = "Elara",
                text = "Four more remain. Each lieutenant wields one. Each defeat brings us closer.",
                next = 3
            },
            [3] = {
                speaker = "Elara",
                text = "But be warned. Malachar knows you come. His forces will grow stronger.",
                next = 4
            },
            [4] = {
                speaker = "Elara",
                text = "Trust in your training. Trust in the light within you.",
                choices = {
                    {text = "I won't let you down.", next = 5},
                    {text = "What if I'm not strong enough?", next = 6},
                    {text = "Tell me more about Malachar.", next = 7}
                }
            },
            [5] = {
                speaker = "Elara",
                text = "I believe in you, child. Now go - the Crypt awaits.",
                next = nil  -- End dialogue
            },
            [6] = {
                speaker = "Elara",
                text = "Strength comes not from the body, but from purpose. Yours is pure. That is enough.",
                next = 5
            },
            [7] = {
                speaker = "Elara",
                text = "Malachar was once like you - a Guardian. He sought power beyond the Sanctum. Found it. And it consumed him.",
                next = 8
            },
            [8] = {
                speaker = "Elara",
                text = "You must not make his mistake. Some powers... should remain untouched.",
                next = 5
            }
        }
    }
}

function drawDialogue()
    if not dialogueSystem.isActive then
        return
    end

    local line = dialogueSystem.currentDialogue.lines[dialogueSystem.currentLine]

    -- Draw dialogue box background
    vmupro.display.fillRect(0, 160, 240, 80, {0, 0, 0, 220})
    vmupro.display.drawRect(0, 160, 240, 80, {255, 215, 0})

    -- Draw speaker portrait (left side)
    if dialogueSystem.speakerPortrait then
        vmupro.display.drawSprite(dialogueSystem.speakerPortrait, 10, 100, 60, 60)
    end

    -- Draw speaker name (above portrait)
    if line.speaker then
        vmupro.display.text(line.speaker, 10, 85, {255, 215, 0}, "small")
    end

    -- Draw typewriter text
    local displayText = dialogueSystem.typewriterText
    vmupro.display.text(displayText, 80, 175, {255, 255, 255}, "normal")

    -- Draw "press A" indicator (blinking)
    if dialogueSystem.typewriterIndex &gt;= #line.text then
        local blink = math.sin(os.time() * 10) &gt; 0
        if blink then
            vmupro.display.text("‚ñº", 220, 220, {255, 215, 0}, "small")
        end
    end

    -- Draw choices if in choice mode
    if dialogueSystem.choiceMode then
        local choiceY = 195
        for i, choice in ipairs(dialogueSystem.currentChoices) do
            local color = (i == dialogueSystem.selectedChoice) and {255, 215, 0} or {200, 200, 200}
            local prefix = (i == dialogueSystem.selectedChoice) and "‚ñ∫ " or "  "
            vmupro.display.text(prefix .. choice.text, 80, choiceY, color, "small")
            choiceY = choiceY + 15
        end
    end
end</code>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>10.5 Lore Discovery System</h3>
                    <div class="feature-card">
                        <h4>üìö COLLECTIBLE LORE ENTRIES</h4>

                        <table>
                            <thead>
                                <tr>
                                    <th>Lore Type</th>
                                    <th>Found In</th>
                                    <th>Quantity</th>
                                    <th>Unlock Reward</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Journal Pages</strong></td>
                                    <td>Secret areas, bookshelves</td>
                                    <td>25 total</td>
                                    <td>Character backstory</td>
                                </tr>
                                <tr>
                                    <td><strong>Grave Inscriptions</strong></td>
                                    <td>Crypt zones</td>
                                    <td>10 total</td>
                                    <td>Necromancy history</td>
                                </tr>
                                <tr>
                                    <td><strong>Experiment Notes</strong></td>
                                    <td>Laboratory areas</td>
                                    <td>15 total</td>
                                    <td>Malachar's research</td>
                                </tr>
                                <tr>
                                    <td><strong>Guardian Spirits</strong></td>
                                    <td>Hidden rooms (ghost NPCs)</td>
                                    <td>5 total</td>
                                    <td>Combat tips + lore</td>
                                </tr>
                                <tr>
                                    <td><strong>Audio Logs</strong></td>
                                    <td>Crystal pickups</td>
                                    <td>8 total</td>
                                    <td>Flashback sequences</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="info-box">
                            <h5>Example Lore Entry</h5>
                            <div style="background: #fff3cd; padding: 15px; border-radius: 8px; font-family: 'Georgia', serif; font-style: italic; margin: 10px 0;">
                                <p><strong>Journal Page 7/25</strong></p>
                                <p style="margin-top: 10px;">"Captain Vorath visited my chambers again tonight. His eyes... they weren't his own. Something speaks through him. Something ancient. He speaks of 'purifying' the Sanctum, but his methods... the disappearances... Father Malachar assures me it's necessary. The Light demands sacrifice. But why do I hear screaming from the dungeons at night?"</p>
                                <p style="text-align: right; margin-top: 15px;">- Head Priestess Elara, final journal entry</p>
                            </div>
                        </div>

                        <div class="code-block">
                            <h5>Lore Collection Implementation</h5>
                            <code>-- Lore discovery and collection system
loreData = {
    journals = {},
    inscriptions = {},
    notes = {},
    spirits = {},
    audioLogs = {}
}

function discoverLore(loreType, loreId)
    local category = loreType .. "s"
    local collection = loreData[category]

    -- Check if already discovered
    if collection[loreId] then
        showNotification("Already discovered!")
        return
    end

    -- Mark as discovered
    collection[loreId] = true

    -- Show discovery notification
    showLoreNotification(loreType, loreId)

    -- Play discovery sound
    playSound("lore_discovered")

    -- Save progress
    saveLoreProgress()

    -- Check for completion rewards
    checkLoreCompletion(category)
end

function showLoreNotification(loreType, loreId)
    local loreEntry = LORE_DATABASE[loreType][loreId]

    -- Create overlay
    gameState = "LORE_VIEWING"

    -- Display lore entry
    displayLoreEntry(loreEntry)

    -- Wait for player input
    waitForInput()
end

function displayLoreEntry(entry)
    -- Draw background
    vmupro.display.fillRect(20, 40, 200, 160, {240, 230, 200})

    -- Draw title
    vmupro.display.text(entry.title, 30, 55, {0, 0, 0}, "normal")

    -- Draw content (word-wrapped)
    local content = wordWrap(entry.content, 28)
    vmupro.display.text(content, 30, 80, {0, 0, 0}, "small")

    -- Draw "NEW!" badge if first discovery
    if isNewDiscovery(entry) then
        vmupro.display.text("NEW!", 180, 50, {255, 0, 0}, "small")
    end

    -- Draw prompt
    vmupro.display.text("Press A to continue", 70, 180, {100, 100, 100}, "small")
end

-- Example lore database
LORE_DATABASE = {
    journals = {
        [1] = {
            title = "Journal Page 1",
            content = "The Sanctum's bells have fallen silent. Father Malachar says it's for the best. The old ways were weak. We must be stronger to face the darkness beyond our realm.",
            discovered = false
        },
        [7] = {
            title = "Journal Page 7",
            content = "Captain Vorath visited my chambers again tonight. His eyes... they weren't his own. Something speaks through him. Something ancient.",
            discovered = false
        }
        -- ... 23 more journal entries
    },
    inscriptions = {
        [1] = {
            title = "Grave of Unknown Knight",
            content = "Here lies a Guardian who fell not to enemy blades, but to his own heart's corruption. May the Light find peace where darkness took root.",
            discovered = false
        }
        -- ... 9 more inscriptions
    }
}

function checkLoreCompletion(category)
    local collection = loreData[category]
    local total = #LORE_DATABASE[string.sub(category, 1, -2)]  -- Remove 's' from end
    local discovered = 0

    for id, _ in pairs(collection) do
        discovered = discovered + 1
    end

    -- Check for completion milestones
    local percentage = (discovered / total) * 100

    if percentage &gt;= 25 and not loreMilestones[category .. "_25"] then
        unlockLoreReward(category, 25)
    elseif percentage &gt;= 50 and not loreMilestones[category .. "_50"] then
        unlockLoreReward(category, 50)
    elseif percentage &gt;= 75 and not loreMilestones[category .. "_75"] then
        unlockLoreReward(category, 75)
    elseif percentage &gt;= 100 and not loreMilestones[category .. "_100"] then
        unlockLoreReward(category, 100)
    end
end

function unlockLoreReward(category, percentage)
    loreMilestones[category .. "_" .. percentage] = true

    -- Award rewards based on category
    if category == "journals" then
        if percentage == 25 then
            giveAchievement("lore_journals_25")
            player.maxHP = player.maxHP + 10
        elseif percentage == 50 then
            giveAchievement("lore_journals_50")
            unlockWeapon("whispering_blade")
        elseif percentage == 100 then
            giveAchievement("lore_journals_master")
            unlockSecret("elara_backstory_complete")
        end
    elseif category == "spirits" then
        if percentage == 100 then
            -- Unlock secret ending path
            unlockSecret("guardian_spirits_complete")
            showNotification("SECRET PATH UNLOCKED: Speak with Elara")
        end
    end
end</code>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>10.6 Cutscene System Architecture</h3>
                    <div class="feature-card">
                        <h4>üé¨ IN-GAME CINEMATIC ENGINE</h4>

                        <div class="implementation-steps">
                            <h5>Cutscene Types</h5>
                            <ol>
                                <li><strong>SCRIPTED CUTSCENES</strong> - Pre-rendered slide shows with text, music, timing</li>
                                <li><strong>IN-GAME CUTSCENES</strong> - Real-time sprite animations, camera movements, dialogue</li>
                                <li><strong>VISION SEQUENCES</strong> - Elara appears as spirit overlay with monologue</li>
                                <li><strong>FLASHBACKS</strong> - Sepia-toned recreations of past events</li>
                                <li><strong>BOSS INTRODUCTIONS</strong> - Dramatic enemy reveals with music stings</li>
                            </ol>
                        </div>

                        <div class="code-block">
                            <h5>In-Game Cutscene System</h5>
                            <code>-- Real-time cutscene system
cutsceneSystem = {
    isActive = false,
    currentCutscene = nil,
    currentStep = 0,
    timer = 0,
    camera = {x = 0, y = 0, zoom = 1.0},
    actors = {}
}

function startCutscene(cutsceneId)
    cutsceneSystem.isActive = true
    cutsceneSystem.currentCutscene = CUTSCENES[cutsceneId]
    cutsceneSystem.currentStep = 0
    cutsceneSystem.timer = 0

    -- Pause normal gameplay
    gameState = "CUTSCENE"

    -- Initialize cutscene
    executeCutsceneStep(0)
end

function updateCutscene(dt)
    if not cutsceneSystem.isActive then
        return
    end

    cutsceneSystem.timer = cutsceneSystem.timer + dt

    local currentStep = cutsceneSystem.currentCutscene.steps[cutsceneSystem.currentStep]

    -- Check if step duration elapsed
    if cutsceneSystem.timer &gt;= currentStep.duration then
        cutsceneSystem.currentStep = cutsceneSystem.currentStep + 1
        cutsceneSystem.timer = 0

        -- Execute next step
        if cutsceneSystem.currentStep &lt;= #cutsceneSystem.currentCutscene.steps then
            executeCutsceneStep(cutsceneSystem.currentStep)
        else
            -- Cutscene complete
            endCutscene()
        end
    end

    -- Update actors
    updateCutsceneActors(dt)

    -- Allow skipping with START
    if input.pressed.START then
        endCutscene()
    end
end

function executeCutsceneStep(stepIndex)
    local step = cutsceneSystem.currentCutscene.steps[stepIndex]

    -- Execute step actions
    for _, action in ipairs(step.actions) do
        executeCutsceneAction(action)
    end
end

function executeCutsceneAction(action)
    if action.type == "camera_move" then
        -- Animate camera to position
        animateCamera(action.x, action.y, action.zoom, action.duration)
    elseif action.type == "actor_spawn" then
        -- Spawn actor (sprite at position)
        spawnCutsceneActor(action.id, action.sprite, action.x, action.y)
    elseif action.type == "actor_move" then
        -- Move actor to position
        animateActorMove(action.id, action.x, action.y, action.duration)
    elseif action.type == "actor_anim" then
        -- Play actor animation
        playActorAnimation(action.id, action.animation)
    elseif action.type == "dialogue" then
        -- Show dialogue line
        showDialogueLine(action.speaker, action.text, action.duration)
    elseif action.type == "sound" then
        -- Play sound effect
        playSound(action.sound)
    elseif action.type == "music" then
        -- Play music track
        playMusic(action.music)
    elseif action.type == "fade_in" then
        -- Fade from black
        startFadeIn(action.duration)
    elseif action.type == "fade_out" then
        -- Fade to black
        startFadeOut(action.duration)
    elseif action.type == "screen_shake" then
        -- Shake screen
        startScreenShake(action.intensity, action.duration)
    elseif action.type == "effect" then
        -- Spawn visual effect
        spawnEffect(effect.type, effect.x, effect.y)
    end
end

-- Example: Vorath Boss Introduction Cutscene
CUTSCENES = {
    vorath_intro = {
        steps = {
            {
                duration = 0,
                actions = {
                    {type = "fade_out", duration = 0},
                    {type = "music", music = "music/tense_buildup"}
                }
            },
            {
                duration = 2000,
                actions = {
                    {type = "fade_in", duration = 2000}
                }
            },
            {
                duration = 3000,
                actions = {
                    {type = "camera_move", x = 120, y = 120, zoom = 1.5, duration = 3000},
                    {type = "actor_spawn", id = "vorath", sprite = "vorath_idle", x = 140, y = 120}
                }
            },
            {
                duration = 1500,
                actions = {
                    {type = "actor_anim", id = "vorath", animation = "draw_sword"},
                    {type = "sound", sound = "sword_draw"}
                }
            },
            {
                duration = 2500,
                actions = {
                    {type = "dialogue", speaker = "Captain Vorath", text = "So... a Guardian dares return?", duration = 2500},
                    {type = "actor_anim", id = "vorath", animation = "taunt"}
                }
            },
            {
                duration = 2000,
                actions = {
                    {type = "dialogue", speaker = "Captain Vorath", text = "Malachar will be pleased with another sacrifice.", duration = 2000}
                }
            },
            {
                duration = 1000,
                actions = {
                    {type = "actor_anim", id = "vorath", animation = "battle_stance"},
                    {type = "music", music = "music/boss_battle"},
                    {type = "fade_in", duration = 500}
                }
            },
            {
                duration = 1000,
                actions = {
                    {type = "fade_out", duration = 500},
                    -- Transition to boss battle
                }
            }
        }
    }
}

function endCutscene()
    cutsceneSystem.isActive = false

    -- Restore gameplay state
    if cutsceneSystem.currentCutscene.onComplete then
        cutsceneSystem.currentCutscene.onComplete()
    else
        gameState = "PLAYING"
    end

    -- Clean up actors
    cutsceneSystem.actors = {}
end</code>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 11: COMBAT EXPANSION -->
            <div class="section" id="combat">
                <h2>‚öîÔ∏è Section 11: Combat Expansion - 50+ Enemy Types</h2>

                <div class="subsection">
                    <h3>11.1 Enemy Tier System</h3>
                    <div class="feature-card">
                        <h4>üëÅÔ∏è TIER 1: BASIC ENEMIES (Levels 1-5)</h4>

                        <div class="implementation-steps">
                            <h5>Dungeon Basic Enemies</h5>
                            <ol>
                                <li><strong>CORRUPTED ACOLYTE</strong> - Former temple worshippers, slow melee, 15 HP, damage: 5</li>
                                <li><strong>SHADOW RAT</strong> - Small, fast, bites player, 8 HP, damage: 3</li>
                                <li><strong>DUST IMP</strong> - Floating dust elemental, ranged spit attack, 12 HP, damage: 4</li>
                                <li><strong>BROKEN SKELETON</strong> - Fragile undead, claw attacks, 10 HP, damage: 6</li>
                                <li><strong>VENOMOUS SPIDER</strong> - Wall-climbing, poison bite (DoT), 15 HP, damage: 4 + poison</li>
                            </ol>

                            <h5>Crypt Basic Enemies</h5>
                            <ol start="6">
                                <li><strong>TOMB MOLD</strong> - Amoebic creature, splits when damaged, 20 HP, damage: 5</li>
                                <li><strong>COFFIN LURKER</strong> - Jumps from coffins, ambush attack, 18 HP, damage: 8</li>
                                <li><strong>GHOSTLY WISP</strong> - Phases through walls, touch drains health, 12 HP, damage: 6 + life steal</li>
                                <li><strong>GRAVE ROBBER ZOMBIE</strong> - Carries rusty dagger, medium speed, 25 HP, damage: 7</li>
                                <li><strong>BONE PILE</strong> - Stationary, throws bones at range, 30 HP, damage: 5 ranged</li>
                            </ol>

                            <h5>Castle Basic Enemies</h5>
                            <ol start="11">
                                <li><strong>CORRUPTED GUARD</strong> - Broken armor, sword attack, 35 HP, damage: 10</li>
                                <li><strong>DEMON BAT</strong> - Flying, dive-bomb attack, 15 HP, damage: 6</li>
                                <li><strong>HELLHOUND PUP</strong> - Fast, fire breath (short range), 22 HP, damage: 8 + burn</li>
                                <li><strong>SHADOW MINION</strong> - Teleports short distances, backstab, 18 HP, damage: 12</li>
                                <li><strong>BLOOD SLIME</strong> - Leaves damaging trail, splits on death, 28 HP, damage: 7</li>
                            </ol>
                        </div>
                    </div>

                    <div class="feature-card">
                        <h4>üëπ TIER 2: ELITE ENEMIES (Levels 6-10)</h4>

                        <div class="implementation-steps">
                            <h5>Dungeon Elite Enemies</h5>
                            <ol>
                                <li><strong>ACOLYTE ARCHER</strong> - Ranged arrows, can predict movement, 40 HP, damage: 12</li>
                                <li><strong>RAT KING</strong> - Summons rat swarm, 50 HP, damage: 8 + summon</li>
                                <li><strong>DUST STORM</strong> - Large dust elemental, sandblast cone, 55 HP, damage: 15 (AoE)</li>
                                <li><strong>SKELETAL WARRIOR</strong> - Sword and shield, blocks attacks, 60 HP, damage: 14</li>
                                <li><strong>GIANT SPIDER</strong> - Web shot (slows), poison bite, 65 HP, damage: 10 + slow + poison</li>
                            </ol>

                            <h5>Crypt Elite Enemies</h5>
                            <ol start="6">
                                <li><strong>MOLD CLOUDPARENT</strong> - Spawns smaller molds, gas cloud (DoT), 70 HP, damage: 10 + spawn</li>
                                <li><strong>Crypt GHOUL</strong> - Paralyzing touch, life regeneration, 55 HP, damage: 12 + regen</li>
                                <li><strong>WRAITH</strong> - Passes through walls, life drain aura, 45 HP, damage: 15 + drain aura</li>
                                <li><strong>DEATH KNIGHT APPRENTICE</strong> - Dark magic missiles, 75 HP, damage: 18 ranged</li>
                                <li><strong>BONE GOLEM</strong> - Heavy armor, slow, devastating smash, 100 HP, damage: 25</li>
                            </ol>
                        </div>
                    </div>

                    <div class="feature-card">
                        <h4>üíÄ TIER 3: MINIBOSS ENEMIES (Levels 11-15)</h4>

                        <div class="implementation-steps">
                            <ol>
                                <li><strong>TEMPORAL WARDEN</strong> - Time-slow aura, phase shifts, 200 HP, damage: 20</li>
                                <li><strong>PLAGUE BEARER</strong> - Disease cloud, spawns infected rats, 180 HP, damage: 15 + disease</li>
                                <li><strong>CURSED KNIGHT</strong> - Charge attack, curse debuff, 220 HP, damage: 30</li>
                                <li><strong>VAMPIRE LORD</strong> - Life steal, bat transformation, 250 HP, damage: 25 + lifesteal</li>
                                <li><strong>DEMONIC INFERNAL</strong> - Fire trail, meteor calls, 300 HP, damage: 35 (AoE)</li>
                                <li><strong>SHADOW ASSASSIN</strong> - Invisibility, backstab multiplier, 180 HP, damage: 40 (crit)</li>
                                <li><strong>UNDEAD TITAN</strong> - Ground pound, skeleton summon, 350 HP, damage: 30 (AoE)</li>
                                <li><strong>ARCHMAGE APPRENTICE</strong> - Elemental spells, teleport, 200 HP, damage: 28 magic</li>
                            </ol>
                        </div>
                    </div>

                    <div class="feature-card">
                        <h4>üëø TIER 4: BOSS ENEMIES (5 Zone Bosses)</h4>

                        <div class="implementation-steps">
                            <h5>Zone 1 Boss: CAPTAIN VORATH</h5>
                            <ul>
                                <li><strong>Phase 1:</strong> Sword combo, shield bash (150 HP)</li>
                                <li><strong>Phase 2:</strong> Summons 2 Corrupted Guards, rage mode (300 HP)</li>
                                <li><strong>Abilities:</strong> Charge attack, whirlwind swing, taunt debuff (lower player defense)</li>
                                <li><strong>Weakness:</strong> Attacks from behind during taunt animation</li>
                            </ul>

                            <h5>Zone 2 Boss: SERAPHINA THE FALLEN</h5>
                            <ul>
                                <li><strong>Phase 1:</strong> Dagger throws, shadow step (200 HP)</li>
                                <li><strong>Phase 2:</strong> Poison cloud arena, shadow clones (400 HP)</li>
                                <li><strong>Abilities:</strong> Backstab, poison nova, illusion duplicates</li>
                                <li><strong>Weakness:</strong> Real Seraphina flickers before shadow step</li>
                            </ul>

                            <h5>Zone 3 Boss: ZOG THE HALF-DEMON</h5>
                            <ul>
                                <li><strong>Phase 1:</strong> Claw attacks, fire breath cone (350 HP)</li>
                                <li><strong>Phase 2:</strong> Enrages, faster, ground slams (500 HP)</li>
                                <li><strong>Abilities:</strong> Charge, roar (stun), fire trail, corpse throws</li>
                                <li><strong>Weakness:</strong> Slow after fire breath, vulnerable to cold weapons</li>
                            </ul>

                            <h5>Zone 4 Boss: ARCHMAGE MALACHAR</h5>
                            <ul>
                                <li><strong>Phase 1:</strong> Elemental spells (fire, ice, lightning) (450 HP)</li>
                                <li><strong>Phase 2:</strong> Teleports, summons elemental minions (600 HP)</li>
                                <li><strong>Phase 3:</strong> Crystal empowered, massive AoE attacks (800 HP)</li>
                                <li><strong>Abilities:</strong> Meteor swarm, Blizzard, Lightning storm, Teleport, Elementals</li>
                                <li><strong>Weakness:</strong> Interruptable casting animations, crystal destroyable in Phase 3</li>
                            </ul>

                            <h5>Zone 5 Boss: GENERAL MALUS (Final Boss)</h5>
                            <ul>
                                <li><strong>Phase 1:</strong> Sword mastery, dark energy strikes (800 HP)</li>
                                <li><strong>Phase 2:</strong> Transforms, gains shadow wings, life drain (1200 HP)</li>
                                <li><strong>Phase 3:</strong> Full demon form, reality-warping attacks (2000 HP)</li>
                                <li><strong>Abilities:</strong> Dimension slash, soul harvest, shadow realm phase, summon all lieutenants</li>
                                <li><strong>Weakness:</strong> Purified Crystal powers up player for final blow</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>11.2 Enemy AI Behaviors</h3>
                    <div class="feature-card">
                        <h4>üß† AI BEHAVIOR SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>Core AI States</h5>
                            <ol>
                                <li><strong>IDLE</strong> - Patrol, wait, look around</li>
                                <li><strong>ALERT</strong> - Heard/saw player, investigate</li>
                                <li><strong>CHASE</strong> - Line of sight to player, pursue</li>
                                <li><strong>ATTACK</strong> - In range, execute attack pattern</li>
                                <li><strong>FLEE</strong> - Low health, retreat to safety/allies</li>
                                <li><strong>STUNNED</strong> - Recovering from hit/knockback</li>
                            </ol>

                            <h5>Advanced AI Features</h5>
                            <ul>
                                <li><strong>Pathfinding:</strong> A* navigation around obstacles</li>
                                <li><strong>Group AI:</strong> Enemies coordinate, flank player</li>
                                <li><strong>Reaction Time:</strong> Varied by enemy tier (0.5s - 2.0s)</li>
                                <li><strong>Perception:</strong> Sight cones, hearing radius, alert allies</li>
                                <li><strong>Adaptive:</strong> Switch weapons based on distance, learn player patterns</li>
                                <li><strong>Retreat:</strong> Low health enemies flee, return with backup</li>
                            </ul>
                        </div>

                        <div class="code-block">
                            <h5>Enemy AI System Implementation</h5>
                            <code>-- Enemy AI behavior system
enemyAI = {
    states = {
        IDLE = "idle",
        ALERT = "alert",
        CHASE = "chase",
        ATTACK = "attack",
        FLEE = "flee",
        STUNNED = "stunned"
    }
}

function updateEnemyAI(enemy, dt)
    local state = enemy.aiState
    local player = gameState.player
    local distToPlayer = distance(enemy.x, enemy.y, player.x, player.y)
    local hasLineOfSight = checkLineOfSight(enemy, player)

    -- State machine
    if state == "idle" then
        -- Patrol or wait
        updatePatrol(enemy, dt)

        -- Check for player
        if distToPlayer &lt; enemy.perceptionRange and hasLineOfSight then
            enemy.aiState = "chase"
            enemy.target = player
            enemy.alertTimer = enemy.alertDuration
        elseif distToPlayer &lt; enemy.hearingRange then
            enemy.aiState = "alert"
            enemy.investigatePos = {x = player.x, y = player.y}
        end

    elseif state == "alert" then
        -- Investigate sound
        moveToPosition(enemy, enemy.investigatePos, dt)

        if distToPlayer &lt; enemy.perceptionRange and hasLineOfSight then
            enemy.aiState = "chase"
        elseif distance(enemy.x, enemy.y, enemy.investigatePos.x, enemy.investigatePos.y) &lt; 10 then
            enemy.aiState = "idle"  -- Investigation complete
        end

    elseif state == "chase" then
        -- Pursue player
        if hasLineOfSight then
            moveDirectlyTo(enemy, player.x, player.y, dt)
            enemy.lastKnownPlayerPos = {x = player.x, y = player.y}
        else
            -- Move to last known position
            moveToPosition(enemy, enemy.lastKnownPlayerPos, dt)
        end

        -- Attack if in range
        if distToPlayer &lt; enemy.attackRange then
            enemy.aiState = "attack"
        end

        -- Alert nearby allies
        alertNearbyEnemies(enemy)

    elseif state == "attack" then
        -- Execute attack pattern
        updateAttackPattern(enemy, dt, player)

        -- Check if player out of range
        if distToPlayer &gt; enemy.attackRange * 1.5 then
            enemy.aiState = "chase"
        end

        -- Flee if low health
        if enemy.health &lt; enemy.maxHealth * 0.2 and enemy.canFlee then
            enemy.aiState = "flee"
        end

    elseif state == "flee" then
        -- Run away from player
        local fleeDir = angle(enemy.x, enemy.y, player.x, player.y) + math.pi
        moveInDirection(enemy, fleeDir, dt)

        -- Return to combat after healing
        if enemy.health &gt; enemy.maxHealth * 0.5 then
            enemy.aiState = "chase"
        end
    end
end

function updateAttackPattern(enemy, dt, player)
    enemy.attackTimer = (enemy.attackTimer or 0) + dt

    if enemy.attackTimer &gt;= enemy.attackCooldown then
        -- Execute attack based on pattern
        local attackType = selectAttack(enemy, player)
        executeAttack(enemy, attackType, player)
        enemy.attackTimer = 0
    end
end

function selectAttack(enemy, player)
    local dist = distance(enemy.x, enemy.y, player.x, player.y)
    local rand = math.random()

    -- Distance-based attack selection
    if dist &lt; 20 then
        -- Melee range
        if rand &lt; 0.6 then
            return "melee"
        else
            return "special"
        end
    elseif dist &lt; 80 then
        -- Medium range
        if rand &lt; 0.4 then
            return "ranged"
        elseif rand &lt; 0.7 then
            return "charge"
        else
            return "special"
        end
    else
        -- Long range
        return "ranged"
    end
end</code>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>11.3 Attack Patterns & Abilities</h3>
                    <div class="feature-card">
                        <h4>‚öîÔ∏è ATTACK TYPE SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>Melee Attack Types</h5>
                            <ol>
                                <li><strong>SWIPE</strong> - Horizontal arc, front 180¬∞</li>
                                <li><strong>LUNGE</strong> - Forward dash with attack</li>
                                <li><strong>OVERHEAD</strong> - Vertical smash, high damage</li>
                                <li><strong>SPIN</strong> - 360¬∞ attack, hits all nearby</li>
                                <li><strong>TAIL WHIP</strong> - Rear attack, wide arc</li>
                            </ol>

                            <h5>Ranged Attack Types</h5>
                            <ol>
                                <li><strong>PROJECTILE</strong> - Single shot, travels straight</li>
                                <li><strong>SPREAD</strong> - Multiple shots, fan pattern</li>
                                <li><strong>HOMING</strong> - Tracks player briefly</li>
                                <li><strong>LOB</strong> - Arcing trajectory, splash damage</li>
                                <li><strong>BEAM</strong> - Continuous damage, requires dodge</li>
                            </ol>

                            <h5>Special Ability Types</h5>
                            <ol>
                                <li><strong>TELEPORT</strong> - Instant position change</li>
                                <li><strong>CHARGE</strong> - Windup then rush attack</li>
                                <li><strong>SUMMON</strong> - Spawn ally enemies</li>
                                <li><strong>AOE</strong> - Area of effect damage</li>
                                <li><strong>AURA</strong> - Persistent zone effect</li>
                                <li><strong>DEBUFF</strong> - Apply negative status</li>
                                <li><strong> BUFF</strong> - Enhance self or allies</li>
                                <li><strong>SHIELD</strong> - Temporary invulnerability</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>11.4 Status Effects</h3>
                    <div class="feature-card">
                        <h4>üî• STATUS EFFECT SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>Damage Over Time (DoT)</h5>
                            <ol>
                                <li><strong>BURN</strong> - Fire damage over 5 seconds, 3 damage/sec</li>
                                <li><strong>POISON</strong> - Nature damage over 8 seconds, 2 damage/sec + slow</li>
                                <li><strong>BLEED</strong> - Physical damage over 6 seconds, 4 damage/sec</li>
                                <li><strong>CORRUPTION</strong> - Dark damage over 10 seconds, 5 damage/sec + lowers defense</li>
                                <li><strong>FROSTBITE</strong> - Ice damage, slows attack speed by 30%</li>
                            </ol>

                            <h5>Control Effects</h5>
                            <ol>
                                <li><strong>STUN</strong> - Unable to act for 2 seconds</li>
                                <li><strong>KNOCKBACK</strong> - Pushed back, interrupt actions</li>
                                <li><strong>SLOW</strong> - Movement speed -50%</li>
                                <li><strong>ROOT</strong> - Cannot move, can still attack</li>
                                <li><strong>CHARM</strong> - Attack allies instead (2 seconds)</li>
                            </ol>

                            <h5>Debuff Effects</h5>
                            <ol>
                                <li><strong>WEAKEN</strong> - Damage output -25%</li>
                                <li><strong>ARMOR BREAK</strong> - Defense reduced by 50%</li>
                                <li><strong>VULNERABILITY</strong> - Take +50% damage from element</li>
                                <li><strong>CURSE</strong> - Cannot heal for 10 seconds</li>
                                <li><strong>SILENCE</strong> - Cannot use abilities for 5 seconds</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>11.5 Boss Mechanics</h3>
                    <div class="feature-card">
                        <h4>üëë BOSS FIGHT SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>Boss Phase System</h5>
                            <p>Each boss has 2-3 phases with distinct mechanics:</p>
                            <ul>
                                <li><strong>Phase Transition:</strong> At 50% and 25% health</li>
                                <li><strong>Visual Cues:</strong> Color change, particle effects, roar</li>
                                <li><strong>New Abilities:</strong> Unlock stronger attacks in later phases</li>
                                <li><strong>Enrage Timer:</strong> 3-minute time limit before berserk mode</li>
                            </ul>

                            <h5>Telegraph System</h5>
                            <p>Boss attacks telegraphed for player response:</p>
                            <ul>
                                <li><strong>Windup Animation:</strong> 0.5-2 second charge (color-coded)</li>
                                <li><strong>Ground Indicator:</strong> Red zone shows AoE impact area</li>
                                <li><strong>Audio Cue:</strong> Distinct sound for each attack type</li>
                                <li><strong>Flash Effect:</strong> Boss flashes before charging</li>
                            </ul>

                            <h5>Boss Arena Elements</h5>
                            <ul>
                                <li><strong>Pillars:</strong> Destructible cover, respawn after 30 seconds</li>
                                <li><strong>Traps:</strong> Spikes, fire pits, lava pools (hurt player too)</li>
                                <li><strong>Power-ups:</strong> Spawn during boss fight (health, ammunition)</li>
                                <li><strong>Environment:</strong> Dynamic hazards (collapsing ceiling, rising water)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 12: PICKUPS & POWER-UPS -->
            <div class="section" id="pickups">
                <h2>üéÅ Section 12: Pickups & Power-Ups - 100+ Items</h2>

                <div class="subsection">
                    <h3>12.1 Health Pickups</h3>
                    <div class="feature-card">
                        <h4>‚ù§Ô∏è HEALTH RESTORATION SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>Health Pickup Types</h5>
                            <ol>
                                <li><strong>SMALL HEALTH ORB</strong> - Restore 10 HP (common drop)</li>
                                <li><strong>MEDIUM HEALTH ORB</strong> - Restore 25 HP (uncommon drop)</li>
                                <li><strong>LARGE HEALTH ORB</strong> - Restore 50 HP (rare drop)</li>
                                <li><strong>FULL HEART</strong> - Full heal + 10 temp HP (boss drop)</li>
                                <li><strong>REGEN ORB</strong> - 5 HP/sec for 10 seconds (rare)</li>
                            </ol>

                            <h5>Health Pickup Sources</h5>
                            <ul>
                                <li>Enemy drops (10-30% chance based on tier)</li>
                                <li>Breakable crates/barrels</li>
                                <li>Hidden treasure chests</li>
                                <li>Boss rewards (guaranteed)</li>
                                <li>Secret room discoveries</li>
                            </ul>

                            <h5>Health Pickup Behavior</h5>
                            <ul>
                                <li>Floating orbs gently bob up and down</li>
                                <li>Attracted to player from 40-pixel distance</li>
                                <li>Disappear after 30 seconds if not collected</li>
                                <li>Sparkle effect to draw attention</li>
                                <li>Auto-collect on touch</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>12.2 Ammunition Pickups</h3>
                    <div class="feature-card">
                        <h4>üèπ AMMUNITION SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>Ammo Types</h5>
                            <ol>
                                <li><strong>ARROW QUIVER</strong> - 10 arrows (ranged weapons)</li>
                                <li><strong>BOLT CASE</strong> - 5 crossbow bolts (high damage)</li>
                                <li><strong>THROWING KNIVES</strong> - 8 knives (fast throw)</li>
                                <li><strong>ROCK POUCH</strong> - 15 sling stones (basic ranged)</li>
                                <li><strong>MAGIC SCROLL</strong> - 3 spell casts (magic weapons)</li>
                            </ol>

                            <h5>Ammo Pickup Chance</h5>
                            <ul>
                                <li>Ranged enemies: 40% drop chance</li>
                                <li>Chests: 2-3 ammo pickups guaranteed</li>
                                <li>Secret areas: High ammo density</li>
                                <li>Boss rooms: Ammo refills before fight</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>12.3 Temporary Power-Ups</h3>
                    <div class="feature-card">
                        <h4>‚ö° TEMPORARY POWER-UP SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>Offensive Power-Ups</h5>
                            <ol>
                                <li><strong>DOUBLE DAMAGE</strong> - 2x damage for 20 seconds (red aura)</li>
                                <li><strong>TRIPLE SHOT</strong> - Fire 3 projectiles at once (yellow aura)</li>
                                <li><strong>PIERCING SHOTS</strong> - Projectiles pass through enemies (blue aura)</li>
                                <li><strong>HOMING ATTACKS</strong> - Auto-aim at nearby enemies (purple aura)</li>
                                <li><strong>GIANT FORM</strong> - 2x size, 2x damage, 2x defense (30 seconds)</li>
                            </ol>

                            <h5>Defensive Power-Ups</h5>
                            <ol>
                                <li><strong>INVINCIBILITY</strong> - No damage for 10 seconds (gold aura)</li>
                                <li><strong>SHIELD</strong> - Absorb 3 hits (cyan aura)</li>
                                <li><strong>DAMAGE REFLECT</strong> - Return 50% damage (15 seconds)</li>
                                <li><strong>PHASING</strong> - Walk through walls/enemies (8 seconds)</li>
                                <li><strong>STONE SKIN</strong> - 75% damage reduction (12 seconds)</li>
                            </ol>

                            <h5>Mobility Power-Ups</h5>
                            <ol>
                                <li><strong>SPEED BOOST</strong> - 2x movement speed (15 seconds)</li>
                                <li><strong>DASH</strong> - Quick dodge ability (5 uses)</li>
                                <li><strong>DOUBLE JUMP</strong> - Jump again in mid-air (30 seconds)</li>
                                <li><strong>GRAVITY REDUCTION</strong> - Slow fall, longer jumps (20 seconds)</li>
                            </ol>
                        </div>

                        <div class="code-block">
                            <h5>Power-Up System Implementation</h5>
                            <code>-- Power-up system
powerUps = {
    DOUBLE_DAMAGE = {
        name = "Double Damage",
        duration = 20,
        color = {255, 50, 50},
        effect = function(player)
            player.damageMultiplier = player.damageMultiplier * 2
        end,
        remove = function(player)
            player.damageMultiplier = player.damageMultiplier / 2
        end
    },

    INVINCIBILITY = {
        name = "Invincibility",
        duration = 10,
        color = {255, 215, 0},
        effect = function(player)
            player.invincible = true
        end,
        remove = function(player)
            player.invincible = false
        end
    },

    SPEED_BOOST = {
        name = "Speed Boost",
        duration = 15,
        color = {50, 255, 50},
        effect = function(player)
            player.speedMultiplier = player.speedMultiplier * 2
        end,
        remove = function(player)
            player.speedMultiplier = player.speedMultiplier / 2
        end
    },

    SHIELD = {
        name = "Shield",
        duration = 0,  -- Until depleted
        color = {0, 255, 255},
        effect = function(player)
            player.shieldHits = 3
        end,
        remove = function(player)
            player.shieldHits = 0
        end
    }
}

function activatePowerUp(powerUpId, player)
    local powerUp = powerUps[powerUpId]

    if not powerUp then
        return
    end

    -- Apply effect
    powerUp.effect(player)

    -- Add to active power-ups
    if powerUp.duration &gt; 0 then
        table.insert(player.activePowerUps, {
            id = powerUpId,
            timer = powerUp.duration * 60,  -- Convert to frames
            remove = powerUp.remove
        })
    end
end

function updatePowerUps(player)
    for i = #player.activePowerUps, 1, -1 do
        local powerUp = player.activePowerUps[i]
        powerUp.timer = powerUp.timer - 1

        if powerUp.timer &lt;= 0 then
            -- Remove effect
            powerUp.remove(player)
            table.remove(player.activePowerUps, i)
        end
    end
end

function onPlayerHit(player, damage)
    -- Check shield first
    if player.shieldHits and player.shieldHits &gt; 0 then
        player.shieldHits = player.shieldHits - 1
        playSound("shield_hit")

        if player.shieldHits == 0 then
            -- Remove shield power-up
            for i, powerUp in ipairs(player.activePowerUps) do
                if powerUp.id == "SHIELD" then
                    powerUp.remove(player)
                    table.remove(player.activePowerUps, i)
                    break
                end
            end
        end

        return 0  -- No damage taken
    end

    -- Check invincibility
    if player.invincible then
        playSound("invincible_hit")
        return 0
    end

    return damage
end</code>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>12.4 Keys & Access Items</h3>
                    <div class="feature-card">
                        <h4>üîë KEY SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>Key Types</h5>
                            <ol>
                                <li><strong>BRONZE KEY</strong> - Opens bronze doors (common)</li>
                                <li><strong>SILVER KEY</strong> - Opens silver doors (uncommon)</li>
                                <li><strong>GOLD KEY</strong> - Opens gold doors (rare, boss drops)</li>
                                <li><strong>CRYSTAL KEY</strong> - Opens special crystal locks (story)</li>
                                <li><strong>MASTER KEY</strong> - Opens all doors (endgame)</li>
                            </ol>

                            <h5>Other Access Items</h5>
                            <ol>
                                <li><strong>LEVER</strong> - Pull to open remote doors</li>
                                <li><strong>PRESSURE PLATE</strong> - Stand on to trigger</li>
                                <li><strong>SWITCH</strong> - Toggle torches, bridges</li>
                                <li><strong>PUSHABLE BLOCK</strong> - Solve puzzles, reach high places</li>
                                <li><strong>BOMB</strong> - Destroy cracked walls (3 uses)</li>
                                <li><strong>HOOKSHOT</strong> - Grapple across gaps</li>
                                <li><strong>LANTERN</strong> - Reveal hidden paths</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>12.5 Lore & Collectibles</h3>
                    <div class="feature-card">
                        <h4>üìú COLLECTIBLE SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>Lore Items</h5>
                            <ol>
                                <li><strong>JOURNAL PAGES</strong> - Story fragments, NPC backgrounds</li>
                                <li><strong>ANCIENT TABLETS</strong> - Lore about Inner Sanctum history</li>
                                <li><strong>SOLDIER LETTERS</strong> - Last words of fallen guards</li>
                                <li><strong>PRIESTESS SCROLLS</strong> - Elara's teachings, magic rituals</li>
                                <li><strong>DEMONIC RUNES</strong> - Malachar's corruption origins</li>
                            </ol>

                            <h5>Collectibles</h5>
                            <ol>
                                <li><strong>CRYSTAL SHARDS</strong> - Collect all 5 for true ending</li>
                                <li><strong>STATUETTES</strong> - Miniature boss figures (30 total)</li>
                                <li><strong>RELICS</strong> - Artifacts from each zone (15 total)</li>
                                <li><strong>COINS</strong> - Currency for shops (if added)</li>
                                <li><strong>SECRET MAPS</strong> - Reveal secret room locations</li>
                            </ol>

                            <h5>Collection Rewards</h5>
                            <ul>
                                <li>10 Lore Pages: Unlock "Historian" achievement</li>
                                <li>5 Crystal Shards: Unlock true ending, +50% final boss damage</li>
                                <li>All Statuettes: Unlock "Collector" achievement, +1 max HP</li>
                                <li>All Relics: Unlock "Archeologist" achievement, new weapon skin</li>
                                <li>100% Game: Unlock "Master of Sanctum" achievement</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 13: ENVIRONMENTAL EFFECTS -->
            <div class="section" id="environment">
                <h2>üåç Section 13: Environmental Effects - 25+ Systems</h2>

                <div class="subsection">
                    <h3>13.1 Dynamic Lighting</h3>
                    <div class="feature-card">
                        <h4>üí° DYNAMIC LIGHTING SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>Light Source Types</h5>
                            <ol>
                                <li><strong>PLAYER LANTERN</strong> - Circular light, radius 60, flickers</li>
                                <li><strong>TORCHES</strong> - Static lights, radius 40, wall-mounted</li>
                                <li><strong>CAMPFIRES</strong> - Larger radius (80), flickering</li>
                                <li><strong>MAGIC ORBS</strong> - Colored lights, pulsing</li>
                                <li><strong>LAVA POOLS</strong> - Red-orange glow, heat distortion</li>
                                <li><strong>CLEAR SKY</strong> - Outdoor ambient light (zones with ceiling opening)</li>
                            </ol>

                            <h5>Lighting Quality Settings</h5>
                            <ul>
                                <li><strong>LOW:</strong> Simple radius, no flicker (raycast 0)</li>
                                <li><strong>MEDIUM:</strong> Static shadows, 4 light sources max</li>
                                <li><strong>HIGH:</strong> Dynamic shadows, flickering, 8 light sources</li>
                            </ul>

                            <h5>Light-Based Mechanics</h5>
                            <ul>
                                <li>Shadow enemies avoid light, attack in darkness</li>
                                <li>Torches extinguish over time, must relight</li>
                                <li>Light reveals hidden doors, invisible enemies</li>
                                <li>Lava pools damage player, light reveals path</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>13.2 Particle Effects</h3>
                    <div class="feature-card">
                        <h4>‚ú® PARTICLE SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>Particle Types</h5>
                            <ol>
                                <li><strong>FIRE</strong> - Campfires, torches, lava</li>
                                <li><strong>SMOKE</strong> - Extinguished torches, steam vents</li>
                                <li><strong>DUST</strong> - Dungeons, disturbed surfaces</li>
                                <li><strong>MAGIC SPARKLES</strong> - Power-ups, spell casting</li>
                                <li><strong>BLOOD</strong> - Enemy death, player damage</li>
                                <li><strong>WATER DROPS</strong> - Dripping ceilings, pools</li>
                                <li><strong>LEAVES</strong> - Outdoor areas, wind effects</li>
                                <li><strong>EMBER</strong> - Scattered by heat sources</li>
                                <li><strong>GHOSTLY TRAILS</strong> - Wraith movement, spirit effects</li>
                                <li><strong>DEBRIS</strong> - Breaking objects, explosions</li>
                            </ol>

                            <h5>Particle Performance</h5>
                            <ul>
                                <li>Max 50 particles on screen</li>
                                <li>Particle recycling for efficiency</li>
                                <li>Distance culling (don't render distant particles)</li>
                                <li>Quality settings (low: 25, medium: 50, high: 100 particles)</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>13.3 Weather & Atmosphere</h3>
                    <div class="feature-card">
                        <h4>üå¶Ô∏è WEATHER SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>Weather Types</h5>
                            <ol>
                                <li><strong>CLEAR</strong> - Default indoor lighting</li>
                                <li><strong>RAIN</strong> - Outdoor areas, water droplets, wet surfaces</li>
                                <li><strong>STORM</strong> - Lightning flashes, thunder, heavy rain</li>
                                <li><strong>FOG</strong> - Reduced visibility, creepy atmosphere</li>
                                <li><strong>MIST</strong> - Ground-level fog, eerie Crypt areas</li>
                                <li><strong>ASH</strong> - Falling embers, volcanic areas</li>
                            </ol>

                            <h5>Atmospheric Effects by Zone</h5>
                            <ul>
                                <li><strong>Dungeon:</strong> Dust particles, cobwebs, stale air</li>
                                <li><strong>Crypt:</strong> Mist, cold breath, grave dust</li>
                                <li><strong>Castle:</strong> Smoke, embers, heat distortion</li>
                                <li><strong>Catacombs:</strong> Fog, dripping water, echoes</li>
                                <li><strong>Tower:</strong> Wind, flying debris, lightning</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>13.4 Surface Materials</h3>
                    <div class="feature-card">
                        <h4>üóø SURFACE TYPE SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>Surface Types</h5>
                            <ol>
                                <li><strong>STONE FLOOR</strong> - Normal footsteps, moderate traction</li>
                                <li><strong>DIRT/GRAVEL</strong> - Crunchy footsteps, dusty</li>
                                <li><strong>WOOD PLANKS</strong> - Creaky noise, moderate traction</li>
                                <li><strong>MUD</strong> - Slow movement, squelching sounds</li>
                                <li><strong>ICE</strong> - Slippery (slide), reduced traction</li>
                                <li><strong>LAVA</strong> - Damage zone, cannot traverse without protection</li>
                                <li><strong>WATER</strong> - Shallow (walkable), deep (swim), slow movement</li>
                                <li><strong>METAL GRATING</strong> - Clanking footsteps, see-through</li>
                                <li><strong>RUG/CARPET</strong> - Muffled footsteps, normal traction</li>
                                <li><strong>SAND</strong> - Slow movement, shifting footsteps</li>
                            </ol>

                            <h5>Surface-Based Mechanics</h5>
                            <ul>
                                <li>Ice surfaces: Player slides, must compensate in controls</li>
                                <li>Mud/Sand: 30% movement penalty</li>
                                <li>Metal grating: See enemies below, can fall through</li>
                                <li>Water: Extinguishes torches, slows movement</li>
                                <li>Lava: 20 damage/sec, need fire resistance</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>13.5 Interactive Objects</h3>
                    <div class="feature-card">
                        <h4>üéØ INTERACTIVE OBJECTS</h4>

                        <div class="implementation-steps">
                            <h5>Destructible Objects</h5>
                            <ol>
                                <li><strong>CRATES</strong> - Drop health/ammo, 2 hits to break</li>
                                <li><strong>BARRELS</strong> - Explosive (damage nearby enemies), 1 hit</li>
                                <li><strong>VASES</strong> - Contain loot, 1 hit (fragile)</li>
                                <li><strong>WEBS</strong> - Block path, 3 hits or fire to burn</li>
                                <li><strong>BARRICADES</strong> - Wooden walls, 5 hits to destroy</li>
                                <li><strong>CRACKED WALLS</strong> - Bomb or heavy weapon to break</li>
                            </ol>

                            <h5>Operable Objects</h5>
                            <ol>
                                <li><strong>LEVERS</strong> - Toggle doors, bridges, traps</li>
                                <li><strong>PRESSURE PLATES</strong> - Trigger when stood upon</li>
                                <li><strong>PUSHABLE BLOCKS</strong> - Solve puzzles, reach high places</li>
                                <li><strong>PULL CHAINS</strong> - Open hidden passages</li>
                                <li><strong>TORCHES</strong> - Extinguishable, relight with fire weapon</li>
                                <li><strong>CLOCKS</strong> - Time-based puzzles (sync multiple)</li>
                            </ol>

                            <h5>Information Objects</h5>
                            <ol>
                                <li><strong>SIGNS</strong> - Readable text, hints, directions</li>
                                <li><strong>GRAVESTONES</strong> - Inscriptions, lore, clues</li>
                                <li><strong>PAINTINGS</strong> - Story visuals, some hide secrets</li>
                                <li><strong>BOOKS</strong> - Readable, lore, puzzle hints</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 14: MAP FEATURES -->
            <div class="section" id="map-features">
                <h2>üó∫Ô∏è Section 14: Map Features - 40+ Interactive Elements</h2>

                <div class="subsection">
                    <h3>14.1 Room Types</h3>
                    <div class="feature-card">
                        <h4>üö™ ROOM TYPE SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>Combat Rooms</h5>
                            <ol>
                                <li><strong>ARENA</strong> - Large open space, multiple enemy waves</li>
                                <li><strong>CORRIDOR</strong> - Narrow path, choke points</li>
                                <li><strong>AMBUSH ROOM</strong> - Doors lock, enemies spawn, clear to exit</li>
                                <li><strong>PILLAR ROOM</strong> - Cover, circle-strafe opportunities</li>
                                <li><strong>MULTI-LEVEL</strong> - Stairs, balconies, verticality</li>
                            </ol>

                            <h5>Puzzle Rooms</h5>
                            <ol>
                                <li><strong>SWITCH PUZZLE</strong> - Hit levers in correct order</li>
                                <li><strong>BLOCK PUSH</strong> - Push blocks onto pressure plates</li>
                                <li><strong>MIRROR ROOM</strong> - Reflect light beams to targets</li>
                                <li><strong>TIMED DOOR</strong> - Race through opening before it closes</li>
                                <li><strong>Maze Room</strong> - Navigate invisible walls (use items)</li>
                            </ol>

                            <h5>Secret Rooms</h5>
                            <ol>
                                <li><strong>HIDDEN WALL</strong> - Attack to reveal passage</li>
                                <li><strong>FALSE WALL</strong> - Walk through illusion</li>
                                <li><strong>FLOOR TRAPDOOR</strong> - Opens to hidden area</li>
                                <li><strong>PAINTING SWITCH</strong> - Interact to open</li>
                                <li><strong>UNDERWATER PASSAGE</strong> - Dive to enter</li>
                            </ol>

                            <h5>Special Rooms</h5>
                            <ol>
                                <li><strong>SAVE ROOM</strong> - Safe zone, heal, save game</li>
                                <li><strong>MERCHANT</strong> - Buy/sell items (if shops added)</li>
                                <li><strong>SHRINE</strong> - Blessings, permanent upgrades</li>
                                <li><strong>ARENA CHALLENGE</strong> - Optional wave battles, rewards</li>
                                <li><strong>BOSS PRElude ROOM</strong> - Save point, health refill before boss</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>14.2 Doors & Passages</h3>
                    <div class="feature-card">
                        <h4>üö™ DOOR SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>Door Types</h5>
                            <ol>
                                <li><strong>WOODEN DOOR</strong> - Opens freely (no lock)</li>
                                <li><strong>LOCKED DOOR</strong> - Requires matching key color</li>
                                <li><strong>BARRICADED DOOR</strong> - Destroy barricade to pass</li>
                                <li><strong>ONE-WAY DOOR</strong> - Can only pass from one side</li>
                                <li><strong>TIMED DOOR</strong> - Open for limited time, need puzzle</li>
                                <li><strong>HIDDEN DOOR</strong> - Revealed by puzzle or action</li>
                                <li><strong>BOSS DOOR</strong> - Requires boss key, dramatic entrance</li>
                            </ol>

                            <h5>Door Animations</h5>
                            <ul>
                                <li><strong>SWING OPEN</strong> - Hinged doors, creak sound</li>
                                <li><strong>SLIDE</strong> - Stone doors, grind sound</li>
                                <li><strong>RISE</strong> - Portcullis, chain sound</li>
                                <li><strong>FADE</strong> - Magic doors, sparkle effect</li>
                            </ul>

                            <h5>Door Mechanics</h5>
                            <ul>
                                <li>Auto-close after 10 seconds (some doors)</li>
                                <li>Enemies cannot open locked doors</li>
                                <li>Door hitbox blocks projectiles</li>
                                <li>Door close deals 5 damage (crush)</li>
                                <li>Boss doors: 5-second dramatic opening sequence</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>14.3 Traps & Hazards</h3>
                    <div class="feature-card">
                        <h4>‚ö†Ô∏è TRAP SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>Trap Types</h5>
                            <ol>
                                <li><strong>SPIKE TRAP</strong> - Periodic spikes from floor, 15 damage</li>
                                <li><strong>DART TRAP</strong> - Wall-mounted, fires projectiles, 10 damage</li>
                                <li><strong>FIRE TRAP</strong> - Floor flames, 8 damage/sec</li>
                                <li><strong>FROST TRAP</strong> - Ice breath, 5 damage + slow</li>
                                <li><strong>Boulder TRAP</strong> - Rolling stone, crush damage (30)</li>
                                <li><strong>PITFALL</strong> - Floor opens, fall to lower level</li>
                                <li><strong>TELEPORT TRAP</strong> - Random relocation (can be good)</li>
                                <li><strong>EXPLOSIVE BARREL</strong> - Shoot to detonate, 40 damage (AoE)</li>
                            </ol>

                            <h5>Trap Triggering</h5>
                            <ul>
                                <li><strong>Pressure</strong> - Step on plate to activate</li>
                                <li><strong>Tripwire</strong> - Invisible line, breaks on contact</li>
                                <li><strong>Proximity</strong> - Motion sensor, activates when near</li>
                                <li><strong>Timer</strong> - Periodic activation (every 5 seconds)</li>
                                <li><strong>Remote</strong> - Triggered by lever/switch elsewhere</li>
                            </ul>

                            <h5>Trap Indicators</h5>
                            <ul>
                                <li>Subtle floor cracks (pitfalls)</li>
                                <li>Wall slots (dart traps)</li>
                                <li>Glowing runes (magic traps)</li>
                                <li>Faint clicking (tripwires)</li>
                                <li>Player can disable with thief tools (if implemented)</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>14.4 Vertical Elements</h3>
                    <div class="feature-card">
                        <h4>‚ÜïÔ∏è VERTICALITY SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>Stairs & Ramps</h5>
                            <ol>
                                <li><strong>STONE STAIRS</strong> - Normal movement, standard climb rate</li>
                                <li><strong>SPIRAL STAIRCASE</strong> - Rotates as you climb (dizzy effect)</li>
                                <li><strong>CRUMBLING STAIRS</strong> - Some steps break (fall hazard)</li>
                                <li><strong>LADDER</strong> - Manual climb, vulnerable while ascending</li>
                                <li><strong>RAMP</strong> - Incline, affects movement speed</li>
                            </ol>

                            <h5>Elevated Platforms</h5>
                            <ol>
                                <li><strong>BALCONY</strong> - Overlook area, sniper advantage</li>
                                <li><strong>BRIDGE</strong> - Span gaps, some collapse</li>
                                <li><strong>LEDGES</strong> - Jump between, platforming</li>
                                <li><strong>ROPE BRIDGE</strong> - Swings as you cross</li>
                                <li><strong>TELEPORTER PAD</strong> - Instant vertical transport</li>
                            </ol>

                            <h5>Pits & Chasms</h5>
                            <ol>
                                <li><strong>SHALLOW PIT</strong> - 5 fall damage, climb out</li>
                                <li><strong>DEEP CHASM</strong> - Instant death (fall too far)</li>
                                <li><strong>LAVA PIT</strong> - 20 damage/sec, climb out fast</li>
                                <li><strong>WATER PIT</strong> - Swim to safety, slow movement</li>
                                <li><strong>SPIKE PIT</strong> - 30 damage, at bottom</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>14.5 Map Mechanics</h3>
                    <div class="feature-card">
                        <h4>üó∫Ô∏è MAP SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>Map Features</h5>
                            <ul>
                                <li><strong>Automap:</strong> - Reveals as you explore</li>
                                <li><strong>Room Labels:</strong> - Named areas (e.g., "Throne Room")</li>
                                <li><strong>Player Marker:</strong> - Shows current position</li>
                                <li><strong>Unexplored:</strong> - Blacked-out areas</li>
                                <li><strong>Saved Rooms:</strong> - Green indicators</li>
                                <li><strong>Boss Markers:</strong> - Skull icons</li>
                                <li><strong>Secret Icons:</strong> - Question marks for found secrets</li>
                                <li><strong>Zoom:</strong> - Toggle overview/detail view</li>
                            </ul>

                            <h5>Map Unlockables</h5>
                            <ul>
                                <li>Start with no map</li>
                                <li>Find "Compass" item: Reveals player position</li>
                                <li>Find "Map" item: Shows explored areas</li>
                                <li>Upgrade: Reveals all secret room locations</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 15: DIFFICULTY & ACCESSIBILITY -->
            <div class="section" id="difficulty">
                <h2>‚öôÔ∏è Section 15: Difficulty & Accessibility Options - 8 Modes</h2>

                <div class="subsection">
                    <h3>15.1 Difficulty Modes</h3>
                    <div class="feature-card">
                        <h4>üéÆ DIFFICULTY SETTINGS</h4>

                        <div class="implementation-steps">
                            <h5>Story Mode</h5>
                            <ul>
                                <li>Player Health: 200 (doubled)</li>
                                <li>Enemy Damage: 50% (halved)</li>
                                <li>Enemy Speed: 75% (slower)</li>
                                <li>More health pickups, ammunition drops</li>
                                <li>Extra lives (5 instead of 3)</li>
                                <li>Longer invincibility frames after hit</li>
                                <li>Target: Experience story, low frustration</li>
                            </ul>

                            <h5>Easy Mode</h5>
                            <ul>
                                <li>Player Health: 150 (+50%)</li>
                                <li>Enemy Damage: 75% (reduced)</li>
                                <li>Enemy Speed: 85% (slightly slower)</li>
                                <li>Standard pickup rates</li>
                                <li>4 lives</li>
                                <li>Target: New players, learning mechanics</li>
                            </ul>

                            <h5>Normal Mode (Default)</h5>
                            <ul>
                                <li>Player Health: 100 (standard)</li>
                                <li>Enemy Damage: 100% (base)</li>
                                <li>Enemy Speed: 100% (base)</li>
                                <li>Standard pickup rates</li>
                                <li>3 lives</li>
                                <li>Target: Balanced experience, intended difficulty</li>
                            </ul>

                            <h5>Hard Mode</h5>
                            <ul>
                                <li>Player Health: 75 (reduced)</li>
                                <li>Enemy Damage: 125% (increased)</li>
                                <li>Enemy Speed: 115% (faster)</li>
                                <li>Fewer pickups (50% drop rate)</li>
                                <li>2 lives</li>
                                <li>Elite enemies appear earlier</li>
                                <li>Target: Experienced players, challenge seekers</li>
                            </ul>

                            <h5>Nightmare Mode</h5>
                            <ul>
                                <li>Player Health: 50 (half)</li>
                                <li>Enemy Damage: 175% (much higher)</li>
                                <li>Enemy Speed: 130% (much faster)</li>
                                <li>Very few pickups (25% drop rate)</li>
                                <li>1 life only</li>
                                <li>All enemies have 1 additional ability</li>
                                <li>Bosses enrage at 75% instead of 50%</li>
                                <li>Target: Hardcore players, ultimate challenge</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>15.2 Accessibility Options</h3>
                    <div class="feature-card">
                        <h4>‚ôø ACCESSIBILITY FEATURES</h4>

                        <div class="implementation-steps">
                            <h5>Visual Accessibility</h5>
                            <ul>
                                <li><strong>Colorblind Mode:</strong> - Alternative color palettes for deuteranopia, protanopia, tritanopia</li>
                                <li><strong>High Contrast:</strong> - Black/white palette, increased outlines</li>
                                <li><strong>Larger UI:</strong> - Scale text and HUD to 150%</li>
                                <li><strong>Damage Numbers:</strong> - Show floating damage values</li>
                                <li><strong>Enemy Health Bars:</strong> - Always display boss/elite HP</li>
                                <li><strong>Screen Shake Reduction:</strong> - Disable or reduce camera shake</li>
                            </ul>

                            <h5>Audio Accessibility</h5>
                            <ul>
                                <li><strong>Visual Audio Cues:</strong> - Flash screen when enemies make sounds</li>
                                <li><strong>Subtitle Mode:</strong> - Display text for all dialogue</li>
                                <li><strong>Mono Audio:</strong> - Mix stereo to single channel</li>
                            </ul>

                            <h5>Motor Accessibility</h5>
                            <ul>
                                <li><strong>Simpler Controls:</strong> - One-button attack mode (auto-aim)</li>
                                <li><strong>Auto-Dash:</strong> - Automatically dodge when attacked</li>
                                <li><strong>Game Speed:</strong> - Slow game to 50% or 75% speed</li>
                                <li><strong>Infinite Pause Buffering:</strong> - No pause menu time limit</li>
                            </ul>

                            <h5>Cognitive Accessibility</h5>
                            <ul>
                                <li><strong>Extended Timers:</strong> - 2x time for timed doors/puzzles</li>
                                <li><strong>Hint System:</strong> - Optional hints for puzzles/bosses</li>
                                <li><strong>Skip Cutscenes:</strong> - Option to skip all story scenes</li>
                                <li><strong>Quest Markers:</strong> - Arrow points to next objective</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>15.3 Game Modifiers</h3>
                    <div class="feature-card">
                        <h4>üé≤ OPTIONAL MODIFIERS</h4>

                        <div class="implementation-steps">
                            <h5>Challenge Modifiers</h5>
                            <ul>
                                <li><strong>Permadeath:</strong> - No continues, death restarts game</li>
                                <li><strong>Timer Run:</strong> - Complete game under X hours (shows on completion)</li>
                                <li><strong>No Damage:</strong> - Achievement for beating boss without taking hits</li>
                                <li><strong>Weapon Restrictions:</strong> - Only use specific weapon type</li>
                                <li><strong>HUD-Less:</strong> - Hide health, ammo displays (hardcore)</li>
                            </ul>

                            <h5>Fun Modifiers</h5>
                            <ul>
                                <li><strong>Big Head Mode:</strong> - Comically large character heads</li>
                                <li><strong>Inverted Colors:</strong> - Swap color palette</li>
                                <li><strong>Speed Run Mode:</strong> - Display timer on HUD</li>
                                <li><strong>Randomizer:</strong> - Randomize enemy spawn locations</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 16: IMPLEMENTATION TIMELINE -->
            <div class="section" id="timeline">
                <h2>üìÖ Section 16: Implementation Timeline & Technical Architecture</h2>

                <div class="subsection">
                    <h3>16.1 Development Phases</h3>
                    <div class="feature-card">
                        <h4>üöÄ PHASE 1: FOUNDATION (Months 1-2)</h4>

                        <div class="implementation-steps">
                            <h5>Core Systems</h5>
                            <ol>
                                <li><strong>Enhanced Enemy System</strong> - Implement 50 enemy types, AI behaviors, status effects</li>
                                <li><strong>Combat Expansion</strong> - Attack patterns, boss mechanics, telegraph system</li>
                                <li><strong>Pickup System</strong> - Health/ammo items, power-ups, collectibles</li>
                                <li><strong>Status Effect Engine</strong> - DoT, control effects, debuffs</li>
                            </ol>

                            <h5>Milestones</h5>
                            <ul>
                                <li>Week 2: Basic enemies (Tier 1) implemented</li>
                                <li>Week 4: Elite enemies (Tier 2) with group AI</li>
                                <li>Week 6: Pickup system functional, all 100+ items</li>
                                <li>Week 8: Status effects complete, first boss fightable</li>
                            </ul>
                        </div>
                    </div>

                    <div class="feature-card">
                        <h4>üè∞ PHASE 2: CONTENT & ENVIRONMENT (Months 3-4)</h4>

                        <div class="implementation-steps">
                            <h5>World Building</h5>
                            <ol>
                                <li><strong>Environmental Effects</strong> - Lighting, particles, weather</li>
                                <li><strong>Map Features</strong> - Room types, doors, traps, vertical elements</li>
                                <li><strong>Interactive Objects</strong> - Destructibles, operables, lore items</li>
                                <li><strong>Surface Materials</strong> - Footstep sounds, traction physics</li>
                            </ol>

                            <h5>Milestones</h5>
                            <ul>
                                <li>Week 10: Dynamic lighting system complete</li>
                                <li>Week 12: All 40+ map features implemented</li>
                                <li>Week 14: Particle system, weather effects</li>
                                <li>Week 16: All 5 zones fully populated with content</li>
                            </ul>
                        </div>
                    </div>

                    <div class="feature-card">
                        <h4>üìñ PHASE 3: NARRATIVE & POLISH (Months 5-6)</h4>

                        <div class="implementation-steps">
                            <h5>Story Integration</h5>
                            <ol>
                                <li><strong>Narrative System</strong> - Slide shows, dialogue, cutscenes</li>
                                <li><strong>Character Implementation</strong> - 6 main characters, voice lines</li>
                                <li><strong>Story Events</strong> - Zone transitions, boss introductions</li>
                                <li><strong>Lore Collection</strong> - 50+ lore items, journal system</li>
                            </ol>

                            <h5>Milestones</h5>
                            <ul>
                                <li>Week 18: Slide show engine, typewriter effects</li>
                                <li>Week 20: All 5 zone storylines complete</li>
                                <li>Week 22: Boss cutscenes, dialogue system</li>
                                <li>Week 24: All lore items placed, endings implemented</li>
                            </ul>
                        </div>
                    </div>

                    <div class="feature-card">
                        <h4>‚öôÔ∏è PHASE 4: ACCESSIBILITY & BALANCE (Month 7)</h4>

                        <div class="implementation-steps">
                            <h5>Final Polish</h5>
                            <ol>
                                <li><strong>Difficulty Settings</strong> - All 5 modes balanced</li>
                                <li><strong>Accessibility Options</strong> - Visual, audio, motor, cognitive features</li>
                                <li><strong>Performance Optimization</strong> - Frame rate, memory usage</li>
                                <li><strong>Testing & QA</strong> - Bug fixes, gameplay tuning</li>
                            </ol>

                            <h5>Milestones</h>
                            <ul>
                                <li>Week 26: All difficulty modes playable</li>
                                <li>Week 28: Accessibility options complete</li>
                                <li>Week 30: Performance optimized for 60 FPS</li>
                                <li>Week 32: Beta testing, final polish</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>16.2 Technical Architecture</h3>
                    <div class="feature-card">
                        <h4>üèóÔ∏è SYSTEM ARCHITECTURE</h4>

                        <div class="implementation-steps">
                            <h5>Core Modules</h5>
                            <ol>
                                <li><strong>Game Loop</strong> - Input ‚Üí Update ‚Üí Render cycle at 60 FPS</li>
                                <li><strong>Entity System</strong> - Player, enemies, items, projectiles</li>
                                <li><strong>Collision Detection</strong> - AABB collision, raycasting for projectiles</li>
                                <li><strong>State Machine</strong> - Game states (MENU, PLAYING, CUTSCENE, PAUSE)</li>
                                <li><strong>Event System</strong> - Triggers, pickups, death, level transitions</li>
                            </ol>

                            <h5>Asset Management</h5>
                            <ul>
                                <li><strong>Sprites:</strong> - 64 sprite slots, efficient recycling</li>
                                <li><strong>Audio:</strong> - 16 sound effects + 4 music tracks max</li>
                                <li><strong>Textures:</strong> - Wall compression, 4x4 pixel blocks for hybrids</li>
                                <li><strong>Memory:</strong> - 8KB total budget, aggressive compression</li>
                            </ul>

                            <h5>Performance Targets</h5>
                            <ul>
                                <li><strong>Frame Rate:</strong> - 60 FPS (16.67ms per frame)</li>
                                <li><strong>Sprite Render Time:</strong> - &lt;5ms for all sprites</li>
                                <li><strong>Raycasting:</strong> - &lt;8ms for full screen render</li>
                                <li><strong>AI Update:</strong> - &lt;2ms for all enemies</li>
                                <li><strong>Total:</strong> - Budget: 16ms (with 2ms headroom)</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>16.3 Risk Assessment</h3>
                    <div class="feature-card">
                        <h4>‚ö†Ô∏è PROJECT RISKS & MITIGATION</h4>

                        <div class="implementation-steps">
                            <h5>Technical Risks</h5>
                            <ul>
                                <li><strong>Risk:</strong> - Performance drops with many enemies on screen</li>
                                <li><strong>Mitigation:</strong> - Distance culling, limit to 15 active enemies, AI update throttling</li>
                            </ul>
                            <ul>
                                <li><strong>Risk:</strong> - Memory budget exceeded with all assets</li>
                                <li><strong>Mitigation:</strong> - Aggressive texture compression, audio streaming, asset loading per zone</li>
                            </ul>
                            <ul>
                                <li><strong>Risk:</strong> - Boss fight complexity causing lag</li>
                                <li><strong>Mitigation:</strong> - Pre-allocate boss memory, simple bullet patterns, phase transitions limit projectiles</li>
                            </ul>

                            <h5>Design Risks</h5>
                            <ul>
                                <li><strong>Risk:</strong> - Difficulty curve too steep for new players</li>
                                <li><strong>Mitigation:</strong> - Story mode, extensive playtesting, adjustable difficulty</li>
                            </ul>
                            <ul>
                                <li><strong>Risk:</strong> - Pacing issues between combat/exploration</li>
                                <li><strong>Mitigation:</strong> - Save rooms, pacing analysis, respawn points</li>
                            </ul>
                            <ul>
                                <li><strong>Risk:</strong> - Story not engaging, players skip cutscenes</li>
                                <li><strong>Mitigation:</strong> - Short impactful scenes, skip option, optional lore deep dives</li>
                            </ul>

                            <h5>Scope Risks</h5>
                            <ul>
                                <li><strong>Risk:</strong> - Feature creep, timeline extends beyond 7 months</li>
                                <li><strong>Mitigation:</strong> - Strict MVP definition, cut features if needed, iterative releases</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 17: GUARDIAN'S QUEST & GAMEFLOW INTEGRATION -->
            <div class="section" id="guardian-quest">
                <h2>‚öîÔ∏è Section 17: Guardian's Quest - Path to Victory</h2>

                <div class="subsection">
                    <h3>17.1 The Guardian's Burden</h3>
                    <div class="feature-card">
                        <h4>üóùÔ∏è BOSS ARTIFACT SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>The Core Mechanic</h5>
                            <p>To defeat General Malus in the Throne Room, the Guardian must collect <strong>5 Sacred Artifacts</strong> - one dropped by each zone boss. These artifacts are required to unlock the final battle and deal actual damage to Malus.</p>

                            <h5>The Five Sacred Artifacts</h5>
                            <ol>
                                <li><strong>VORATH'S BROKEN HILT</strong> (Zone 1 Boss)
                                    <ul>
                                        <li>Effect: +10% damage to corrupted enemies</li>
                                        <li>Passive: Reveals hidden doors in Dungeon zone</li>
                                        <li>Story Fragment: "Captain Vorath's last stand against corruption"</li>
                                    </ul>
                                </li>
                                <li><strong>SERAPHINA'S TEAR-STONE</strong> (Zone 2 Boss)
                                    <ul>
                                        <li>Effect: Poison resistance, immunity to shadow traps</li>
                                        <li>Passive: Enemies in Crypt zone deal 15% less damage</li>
                                        <li>Story Fragment: "Seraphina's betrayal - from guardian to assassin"</li>
                                    </ul>
                                </li>
                                <li><strong>ZOG'S CHARRED HEART</strong> (Zone 3 Boss)
                                    <ul>
                                        <li>Effect: Fire resistance, immunity to lava damage</li>
                                        <li>Passive: Reveals secret passages in Castle zone</li>
                                        <li>Story Fragment: "Zog's half-demon curse - a guardian who fell"</li>
                                    </ul>
                                </li>
                                <li><strong>MALACHAR'S SHATTERED CRYSTAL</strong> (Zone 4 Boss)
                                    <ul>
                                        <li>Effect: +25% magic damage, mana regeneration</li>
                                        <li>Passive: Breaks illusionary walls in Catacombs</li>
                                        <li>Story Fragment: "Malachar's descent from Archmage to monster"</li>
                                    </ul>
                                </li>
                                <li><strong>PURIFICATION ESSENCE</strong> (Zone 5 Pre-Final Boss)
                                    <ul>
                                        <li>Effect: Required to harm General Malus (without it, 0 damage)</li>
                                        <li>Passive: Activates true ending pathway</li>
                                        <li>Story Fragment: "Elara's final blessing - purified light crystal"</li>
                                    </ul>
                                </li>
                            </ol>

                            <h5>Artifact Display</h5>
                            <ul>
                                <li>HUD shows collected artifacts as icons (top of screen)</li>
                                <li>Artifacts glow when near their zone's secrets</li>
                                <li>Each artifact plays unique pickup sound + voice line from Elara</li>
                                <li>Artifacts auto-equip (passive bonuses always active)</li>
                            </ul>

                            <h5>Final Boss Mechanics</h5>
                            <ul>
                                <li><strong>Without Purification Essence:</strong> General Malus takes 0 damage, immune to all attacks (must replay to get essence)</li>
                                <li><strong>With Essence Only:</strong> Can damage Malus, but fight is extremely difficult (normal damage)</li>
                                <li><strong>With All 5 Artifacts:</strong> "Guardian's Vengeance" mode - 200% damage to Malus, special cinematic ending</li>
                                <li><strong>True Ending:</strong> Collect all 5 artifacts + all 5 Crystal Shards from secret areas = ultimate victory + secret level unlock</li>
                            </ul>
                        </div>

                        <div class="code-block">
                            <h5>Artifact System Implementation</h5>
                            <code>-- Guardian's Artifact System
guardianArtifacts = {
    collected = {},
    requiredForMalus = {"vorath_hilt", "seraphina_tear", "zog_heart", "malachar_crystal", "purification_essence"},

    -- Artifact definitions
    vorath_hilt = {
        name = "Vorath's Broken Hilt",
        sprite = "artifact_hilt",
        dropFrom = "vorath",
        passiveBonus = "corrupted_damage",
        bonusValue = 1.10,  -- +10% damage
        zoneReveal = "dungeon"
    },

    seraphina_tear = {
        name = "Seraphina's Tear-Stone",
        sprite = "artifact_tear",
        dropFrom = "seraphina",
        passiveBonus = "poison_immunity",
        bonusValue = 1.0,
        zoneReveal = "crypt"
    },

    zog_heart = {
        name = "Zog's Charred Heart",
        sprite = "artifact_heart",
        dropFrom = "zog",
        passiveBonus = "fire_immunity",
        bonusValue = 1.0,
        zoneReveal = "castle"
    },

    malachar_crystal = {
        name = "Malachar's Shattered Crystal",
        sprite = "artifact_crystal",
        dropFrom = "malachar",
        passiveBonus = "magic_damage",
        bonusValue = 1.25,  -- +25% magic damage
        zoneReveal = "catacombs"
    },

    purification_essence = {
        name = "Purification Essence",
        sprite = "artifact_essence",
        dropFrom = "final_guardian_spirit",  -- Special encounter before Malus
        passiveBonus = "malus_vulnerability",
        bonusValue = 1.0,
        zoneReveal = "throne"
    }
}

function onBossDeath(bossId)
    local artifact = guardianArtifacts[bossId]

    if artifact and not guardianArtifacts.collected[bossId] then
        -- Award artifact
        guardianArtifacts.collected[bossId] = true
        addToInventory(artifact)

        -- Play cinematic
        playArtifactPickupCinematic(artifact)

        -- Elara voice line
        playElaraVoiceLine("artifact_" .. bossId)

        -- Check if all collected
        checkAllArtifactsCollected()
    end
end

function checkAllArtifactsCollected()
    local allCollected = true
    for _, artifactId in ipairs(guardianArtifacts.requiredForMalus) do
        if not guardianArtifacts.collected[artifactId] then
            allCollected = false
            break
        end
    end

    if allCollected then
        -- Unlock final boss door
        gameState.throneRoomUnlocked = true
        showNotification("All Sacred Artifacts collected! The path to Malus is open.")
    end
end

function canDamageMalus()
    -- Must have Purification Essence to damage Malus at all
    return guardianArtifacts.collected["purification_essence"] or false
end

function calculateMalusDamage(baseDamage, attacker)
    -- Without essence: 0 damage
    if not canDamageMalus() then
        return 0
    end

    local multiplier = 1.0

    -- With all 5 artifacts: 2.0x damage
    if getAllArtifactsCollected() then
        multiplier = 2.0
        showDamageNumber("GUARDIAN'S VENGEANCE!", 255, 215, 0)  -- Gold
    end

    return baseDamage * multiplier
end</code>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>17.2 Intro Cinematic Slideshow</h3>
                    <div class="feature-card">
                        <h4>üé¨ OPENING CINEMATIC SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>Before Game Starts</h5>
                            <p>When the player launches "New Game," a cinematic slideshow plays to establish the story BEFORE gameplay begins. This sets the emotional tone and context.</p>

                            <h5>Opening Slideshow: "The Fall of Sanctum"</h5>
                            <ol>
                                <li><strong>Slide 1 (0:00 - 0:08):</strong>
                                    <ul>
                                        <li><strong>Image:</strong> Beautiful, glowing Inner Sanctum cathedral at night</li>
                                        <li><strong>Background Sound:</strong> Peaceful ambient wind, distant chimes</li>
                                        <li><strong>Text (typewriter):</strong> "For a thousand years, the Inner Sanctum stood as a beacon of hope..."</li>
                                    </ul>
                                </li>
                                <li><strong>Slide 2 (0:08 - 0:16):</strong>
                                    <ul>
                                        <li><strong>Image:</strong> Elara (High Priestess) performing ritual at crystal altar</li>
                                        <li><strong>Background Sound:</strong> Soft chanting, crystal hum</li>
                                        <li><strong>Text:</strong> "Guarded by the Priestess Elara, the Purification Crystal kept darkness at bay."</li>
                                    </ul>
                                </li>
                                <li><strong>Slide 3 (0:16 - 0:24):</strong>
                                    <ul>
                                        <li><strong>Image:</strong> Malachar approaching crystal, dark energy emanating</li>
                                        <li><strong>Background Sound:</strong> Ominous low drone, faint whispers</li>
                                        <li><strong>Text:</strong> "But the Archmage Malachar sought power beyond light..."</li>
                                    </ul>
                                </li>
                                <li><strong>Slide 4 (0:24 - 0:32):</strong>
                                    <ul>
                                        <li><strong>Image:</strong> Crystal shattering, dark explosion spreading</li>
                                        <li><strong>Background Sound:</strong> Crystal SHATTER sound, rumbling, dramatic silence</li>
                                        <li><strong>Text:</strong> "In one night of betrayal, the crystal shattered. Darkness consumed all."</li>
                                    </ul>
                                </li>
                                <li><strong>Slide 5 (0:32 - 0:40):</strong>
                                    <ul>
                                        <li><strong>Image:</strong> Corrupted cathedral, Malachar floating above throne</li>
                                        <li><strong>Background Sound:</strong> Dark ambient, distorted chimes</li>
                                        <li><strong>Text:</strong> "The Guardians fell. The temple twisted. Malachar became the monster he sought to destroy."</li>
                                    </ul>
                                </li>
                                <li><strong>Slide 6 (0:40 - 0:48):</strong>
                                    <ul>
                                        <li><strong>Image:</strong> Elara's spirit form appearing, glowing softly</li>
                                        <li><strong>Background Sound:</strong> Ethereal chime, warm wind</li>
                                        <li><strong>Text:</strong> "Now, one Guardian remains... you."</li>
                                    </ul>
                                </li>
                                <li><strong>Slide 7 (0:48 - 0:56):</strong>
                                    <ul>
                                        <li><strong>Image:</strong> Player character (armored warrior) standing at dungeon entrance</li>
                                        <li><strong>Background Sound:</strong> Determined music swell, sword draw sound</li>
                                        <li><strong>Text:</strong> "Descend into the darkness. Purify the corruption. End the nightmare."</li>
                                    </ul>
                                </li>
                                <li><strong>Slide 8 (0:56 - 1:00):</strong>
                                    <ul>
                                        <li><strong>Image:</strong> Fade to black with title: "INNER SANCTUM"</li>
                                        <li><strong>Background Sound:</strong> Title theme music</li>
                                        <li><strong>Text:</strong> "PRESS A TO BEGIN"</li>
                                    </ul>
                                </li>
                            </ol>

                            <h5>Slideshow Technical Implementation</h5>
                            <ul>
                                <li><strong>Image Format:</strong> 240x240 pixels, 16-color palette (VMU Pro constraint)</li>
                                <li><strong>Audio:</strong> Background music track + sound effects per slide</li>
                                <li><strong>Transitions:</strong> 0.5 second fade between slides</li>
                                <li><strong>Skip:</strong> Press START/A to skip to last slide (title with "PRESS A TO BEGIN")</li>
                                <li><strong>Storage:</strong> Images stored in sprites/intro_slides/ folder</li>
                                <li><strong>Memory:</strong> Load one slide at a time to conserve memory</li>
                            </ul>
                        </div>

                        <div class="code-block">
                            <h5>Intro Slideshow System</h5>
                            <code>-- Intro cinematic slideshow system
introSlides = {
    {
        image = "sprites/intro/slide1_sanctum_night.png",
        audio = "music/intro/peaceful_ambient",
        text = "For a thousand years, the Inner Sanctum stood as a beacon of hope...",
        duration = 8.0,  -- seconds
        typewriterSpeed = 50  -- ms per character
    },
    {
        image = "sprites/intro/slide2_elara_ritual.png",
        audio = "music/intro/chanting_ambient",
        text = "Guarded by the Priestess Elara, the Purification Crystal kept darkness at bay.",
        duration = 8.0,
        typewriterSpeed = 50
    },
    {
        image = "sprites/intro/slide3_malachar_approach.png",
        audio = "music/intro/ominous_drone",
        text = "But the Archmage Malachar sought power beyond light...",
        duration = 8.0,
        typewriterSpeed = 50
    },
    -- ... 5 more slides
}

function playIntroSlideshow()
    gameState.state = "INTRO_CINEMATIC"
    currentSlide = 0
    slideTimer = 0
    textProgress = 0  -- Characters revealed

    -- Load first slide
    loadSlide(0)

    -- Start music
    playMusic(introSlides[0].audio)
end

function loadSlide(index)
    local slide = introSlides[index]

    -- Load slide image (full screen)
    display.loadSprite(0, slide.image, 0, 0)  -- Sprite 0 = full screen image

    -- Initialize text
    slideTimer = 0
    textProgress = 0

    -- Transition music if needed
    if index &gt; 0 and introSlides[index].audio ~= introSlides[index-1].audio then
        fadeToMusic(introSlides[index].audio, 1.0)  -- 1 second fade
    end
end

function updateIntroCinematic(dt)
    slideTimer = slideTimer + dt

    local slide = introSlides[currentSlide]

    -- Typewriter text effect
    local targetChars = string.len(slide.text)
    if textProgress &lt; targetChars then
        -- Reveal characters based on typewriter speed
        local charsToReveal = math.floor(slideTimer * 1000 / slide.typewriterSpeed)
        textProgress = math.min(charsToReveal, targetChars)
    end

    -- Render text (bottom third of screen)
    local textToDisplay = string.sub(slide.text, 1, textProgress)
    display.drawText(textToDisplay, 20, 160, {255, 255, 255})  -- White text, bottom area

    -- Check for slide completion
    if slideTimer &gt;= slide.duration then
        currentSlide = currentSlide + 1

        if currentSlide &lt; #introSlides then
            -- Next slide
            loadSlide(currentSlide)
        else
            -- End of slideshow
            endIntroCinematic()
        end
    end

    -- Allow skip with START or A
    if input.pressed.START or input.pressed.A then
        if currentSlide &lt; #introSlides - 1 then
            -- Jump to last slide (title screen)
            currentSlide = #introSlides - 1
            loadSlide(currentSlide)
        else
            -- End slideshow
            endIntroCinematic()
        end
    end
end

function endIntroCinematic()
    gameState.state = "TITLE_SCREEN"
    showTitleScreen()
    playMusic("music/title_theme")
end</code>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>17.3 Secret Level: Rainbow Falls (Future Content)</h3>
                    <div class="feature-card">
                        <h4>üåà SECRET LEVEL - POST-GAME CONTENT</h4>

                        <div class="implementation-steps">
                            <h5>Unlock Condition</h5>
                            <p>Complete the game on any difficulty with <strong>ALL 5 Sacred Artifacts + ALL 5 Crystal Shards</strong> (true ending). This unlocks the secret portal in the Throne Room after defeating Malus.</p>

                            <h5>Concept: "Rainbow Falls"</h5>
                            <p>A peaceful, whimsical bonus level that contrasts the dark tone of the main game. A place of healing and secrets.</p>

                            <h5>Level Features</h5>
                            <ul>
                                <li><strong>Visual Style:</strong> Bright pastel colors, rainbow waterfalls, floating islands</li>
                                <li><strong>Enemies:</strong> Corrupted bunnies (shoot to purify), evil rainbows (boss), dark clouds</li>
                                <li><strong>Gameplay:</strong> Relaxing exploration, no time pressure, pure fun</li>
                                <li><strong>Rewards:</strong>
                                    <ul>
                                        <li>"Bunny Friend" cosmetic (follows player in main game)</li>
                                        <li>"Rainbow Blade" weapon skin (all attacks trail rainbows)</li>
                                        <li>"Peace" mode (enemies don't attack, just explore)</li>
                                        <li>Developer commentary room (messages from dev team)</li>
                                    </ul>
                                </li>
                            </ul>

                            <h5>Why This Works</h5>
                            <ul>
                                <li>Emotional break after dark, intense final boss</li>
                                <li>Reward for completionists (true ending)</li>
                                <li>Meme potential (bunny shooting goes viral)</li>
                                <li>Developer personality showcase</li>
                                <li>Easy to implement (reuses existing mechanics, new art only)</li>
                            </ul>

                            <h5>Implementation Priority</h5>
                            <p><strong>STATUS: FAR FUTURE</strong> Implement after full game release. This is bonus content, not required for v1.0.</p>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>17.4 Hidden Items System</h3>
                    <div class="feature-card">
                        <h4>üîç SECRET COLLECTION SYSTEM</h4>

                        <div class="implementation-steps">
                            <h5>Hidden Item Types</h5>
                            <ol>
                                <li><strong>Crystal Shards</strong> (5 total, one per zone)
                                    <ul>
                                        <li>Hidden in secret rooms, behind illusionary walls</li>
                                        <li>Required for true ending</li>
                                        <li>Each shard plays Elara memory when collected</li>
                                    </ul>
                                </li>
                                <li><strong>Lore Statuettes</strong> (30 total, 6 per zone)
                                    <ul>
                                        <li>Miniature boss figures scattered throughout levels</li>
                                        <li>Collecting all in a zone unlocks that zone's "Making Of" gallery</li>
                                    </ul>
                                </li>
                                <li><strong>Developer Tablets</strong> (10 total)
                                    <ul>
                                        <li>Hidden in extremely hard-to-reach places</li>
                                        <li>Contain behind-the-scenes info, design sketches, dev jokes</li>
                                    </ul>
                                </li>
                                <li><strong>Easter Eggs</strong> (15 total)
                                    <ul>
                                        <li>Funny references, pop culture nods, inside jokes</li>
                                        <li>No gameplay benefit, just fun discoveries</li>
                                    </ul>
                                </li>
                            </ol>

                            <h5>Hidden Item Mechanics</h5>
                            <ul>
                                <li>Some require specific artifacts to reveal (e.g., "Zog's Heart" reveals lava passage)</li>
                                <li>Others require puzzle solving (e.g., hit 3 switches in order)</li>
                                <li>Some are timed (e.g., race to reach before door closes)</li>
                                <li>Collection progress tracked in menu (e.g., "Crystal Shards: 2/5")</li>
                            </ul>

                            <h5>Discovery Reward System</h5>
                            <ul>
                                <li>10% collection: "Explorer" achievement</li>
                                <li>25% collection: Secret weapon unlock</li>
                                <li>50% collection: "Treasure Hunter" achievement + costume</li>
                                <li>100% collection: "Master of Secrets" achievement + new game+ bonus</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 18: PRACTICAL IMPLEMENTATION ROADMAP -->
            <div class="section" id="implementation-roadmap">
                <h2>üöÄ Section 18: Practical Implementation Roadmap - Where to Start</h2>

                <div class="subsection">
                    <h3>18.1 MVP Definition (Minimum Viable Product)</h3>
                    <div class="feature-card">
                        <h4>üéØ WEEK 1-2: FOUNDATION MVP</h4>

                        <div class="implementation-steps">
                            <h5>Step 1: Core Game Loop (Days 1-3)</h5>
                            <ol>
                                <li>Set up basic VMU Pro project structure</li>
                                <li>Implement input handling (D-pad + A button)</li>
                                <li>Create basic raycasting renderer (single wall texture)</li>
                                <li>Player movement (forward, backward, strafe)</li>
                                <li>Collision detection with walls</li>
                            </ol>
                            <p><strong>Deliverable:</strong> Player can walk through a simple 3D corridor.</p>

                            <h5>Step 2: Single Enemy Combat (Days 4-7)</h5>
                            <ol>
                                <li>Create basic enemy sprite (Corrupted Acolyte)</li>
                                <li>Enemy AI: Chase player when in line of sight</li>
                                <li>Player attack: Melee swing animation</li>
                                <li>Damage calculation (player HP, enemy HP)</li>
                                <li>Death handling (enemy dies, player respawns)</li>
                            </ol>
                            <p><strong>Deliverable:</strong> Player can kill one enemy in a room.</p>

                            <h5>Step 3: Pickup System (Days 8-10)</h5>
                            <ol>
                                <li>Create health pickup sprite</li>
                                <li>Pickup collision + heal player</li>
                                <li>Enemy drops health on death (20% chance)</li>
                                <li>UI: Health bar display</li>
                            </ol>
                            <p><strong>Deliverable:</strong> Player can heal by collecting pickups.</p>

                            <h5>Step 4: Basic Level (Days 11-14)</h5>
                            <ol>
                                <li>Design 5-room dungeon layout</li>
                                <li>Place enemies (3-4 total)</li>
                                <li>Place pickups (health orbs)</li>
                                <li>Add door to exit level</li>
                            </ol>
                            <p><strong>Deliverable:</strong> Complete playable level with start ‚Üí kill enemies ‚Üí exit.</p>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>18.2 Feature Priority Order (Most Efficient)</h3>
                    <div class="feature-card">
                        <h4>üìã IMPLEMENTATION PRIORITY MATRIX</h4>

                        <div class="implementation-steps">
                            <h5>PHASE 1: CORE GAMEPLAY (Must Have - Week 1-4)</h5>
                            <table style="width:100%; border-collapse: collapse; margin: 15px 0;">
                                <tr style="background: #667eea; color: white;">
                                    <th style="padding: 10px; text-align: left;">Feature</th>
                                    <th style="padding: 10px; text-align: left;">Complexity</th>
                                    <th style="padding: 10px; text-align: left;">Time</th>
                                    <th style="padding: 10px; text-align: left;">Dependency</th>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">Raycasting engine</td>
                                    <td style="padding: 8px;">HIGH</td>
                                    <td style="padding: 8px;">5 days</td>
                                    <td style="padding: 8px;">None (START HERE)</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">Player movement + collision</td>
                                    <td style="padding: 8px;">MEDIUM</td>
                                    <td style="padding: 8px;">2 days</td>
                                    <td style="padding: 8px;">Raycasting</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">Single enemy type (AI + attack)</td>
                                    <td style="padding: 8px;">MEDIUM</td>
                                    <td style="padding: 8px;">3 days</td>
                                    <td style="padding: 8px;">Player movement</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">Player weapon (melee attack)</td>
                                    <td style="padding: 8px;">LOW</td>
                                    <td style="padding: 8px;">1 day</td>
                                    <td style="padding: 8px;">Enemy collision</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">Health system (HP + pickups)</td>
                                    <td style="padding: 8px;">LOW</td>
                                    <td style="padding: 8px;">1 day</td>
                                    <td style="padding: 8px;">Player attack</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">Basic 5-room level</td>
                                    <td style="padding: 8px;">MEDIUM</td>
                                    <td style="padding: 8px;">2 days</td>
                                    <td style="padding: 8px;">All above</td>
                                </tr>
                            </table>

                            <h5>PHASE 2: COMBAT EXPANSION (Should Have - Week 5-8)</h5>
                            <table style="width:100%; border-collapse: collapse; margin: 15px 0;">
                                <tr style="background: #6a11cb; color: white;">
                                    <th style="padding: 10px; text-align: left;">Feature</th>
                                    <th style="padding: 10px; text-align: left;">Complexity</th>
                                    <th style="padding: 10px; text-align: left;">Time</th>
                                    <th style="padding: 10px; text-align: left;">Dependency</th>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">5 enemy types (Tier 1 variants)</td>
                                    <td style="padding: 8px;">MEDIUM</td>
                                    <td style="padding: 8px;">3 days</td>
                                    <td style="padding: 8px;">Base enemy system</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">3 weapon types (melee + ranged)</td>
                                    <td style="padding: 8px;">MEDIUM</td>
                                    <td style="padding: 8px;">3 days</td>
                                    <td style="padding: 8px;">Player attack</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">Status effects (burn, poison, stun)</td>
                                    <td style="padding: 8px;">HIGH</td>
                                    <td style="padding: 8px;">4 days</td>
                                    <td style="padding: 8px;">Enemy + weapon systems</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">Boss fight (Vorath - 2 phases)</td>
                                    <td style="padding: 8px;">HIGH</td>
                                    <td style="padding: 8px;">5 days</td>
                                    <td style="padding: 8px;">Combat + status effects</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">Artifact drop system</td>
                                    <td style="padding: 8px;">LOW</td>
                                    <td style="padding: 8px;">2 days</td>
                                    <td style="padding: 8px;">Boss death</td>
                                </tr>
                            </table>

                            <h5>PHASE 3: LEVEL CONTENT (Should Have - Week 9-12)</h5>
                            <table style="width:100%; border-collapse: collapse; margin: 15px 0;">
                                <tr style="background: #2575fc; color: white;">
                                    <th style="padding: 10px; text-align: left;">Feature</th>
                                    <th style="padding: 10px; text-align: left;">Complexity</th>
                                    <th style="padding: 10px; text-align: left;">Time</th>
                                    <th style="padding: 10px; text-align: left;">Dependency</th>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">5 zone themes (textures + lighting)</td>
                                    <td style="padding: 8px;">MEDIUM</td>
                                    <td style="padding: 8px;">5 days</td>
                                    <td style="padding: 8px;">Raycasting engine</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">Room variety (combat, puzzle, secret)</td>
                                    <td style="padding: 8px;">HIGH</td>
                                    <td style="padding: 8px;">4 days</td>
                                    <td style="padding: 8px;">Level system</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">Doors, keys, locks</td>
                                    <td style="padding: 8px;">MEDIUM</td>
                                    <td style="padding: 8px;">2 days</td>
                                    <td style="padding: 8px;">Level system</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">Traps (spikes, darts, fire)</td>
                                    <td style="padding: 8px;">MEDIUM</td>
                                    <td style="padding: 8px;">3 days</td>
                                    <td style="padding: 8px;">Level collision</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">5 boss fights (all zones)</td>
                                    <td style="padding: 8px;">VERY HIGH</td>
                                    <td style="padding: 8px;">10 days</td>
                                    <td style="padding: 8px;">Combat + level systems</td>
                                </tr>
                            </table>

                            <h5>PHASE 4: NARRATIVE (Nice to Have - Week 13-16)</h5>
                            <table style="width:100%; border-collapse: collapse; margin: 15px 0;">
                                <tr style="background: #f093fb; color: white;">
                                    <th style="padding: 10px; text-align: left;">Feature</th>
                                    <th style="padding: 10px; text-align: left;">Complexity</th>
                                    <th style="padding: 10px; text-align: left;">Time</th>
                                    <th style="padding: 10px; text-align: left;">Dependency</th>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">Intro cinematic slideshow (8 slides)</td>
                                    <td style="padding: 8px;">MEDIUM</td>
                                    <td style="padding: 8px;">4 days</td>
                                    <td style="padding: 8px;">None (can do parallel)</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">Zone transition slideshows</td>
                                    <td style="padding: 8px;">MEDIUM</td>
                                    <td style="padding: 8px;">3 days</td>
                                    <td style="padding: 8px;">Intro slideshow system</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">Elara ghost encounters</td>
                                    <td style="padding: 8px;">LOW</td>
                                    <td style="padding: 8px;">2 days</td>
                                    <td style="padding: 8px;">Sprite system</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">Lore collection (50 items)</td>
                                    <td style="padding: 8px;">MEDIUM</td>
                                    <td style="padding: 8px;">3 days</td>
                                    <td style="padding: 8px;">Level system</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 8px;">True ending + Malus requirements</td>
                                    <td style="padding: 8px;">HIGH</td>
                                    <td style="padding: 8px;">4 days</td>
                                    <td style="padding: 8px;">All boss + artifact systems</td>
                                </tr>
                            </table>

                            <h5>PHASE 5: POLISH (Week 17-20)</h5>
                            <ul>
                                <li>Difficulty balancing (all 5 modes)</li>
                                <li>Performance optimization</li>
                                <li>Sound effects + music (all zones)</li>
                                <li>UI/UX improvements</li>
                                <li>Bug fixing + QA</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>18.3 Quick Start Guide (Day 1 Tasks)</h3>
                    <div class="feature-card">
                        <h4>üéÆ DAY 1: GET SOMETHING PLAYABLE</h4>

                        <div class="implementation-steps">
                            <h5>Morning (Hours 1-4): Raycasting Setup</h5>
                            <ol>
                                <li>Create new VMU Pro project</li>
                                <li>Set up display buffer (240x240)</li>
                                <li>Implement basic raycasting algorithm (Doom-style)</li>
                                <li>Load one wall texture</li>
                                <li>Render simple room (4 walls)</li>
                            </ol>
                            <p><strong>Checkpoint:</strong> You see a 3D room on screen.</p>

                            <h5>Afternoon (Hours 5-8): Player Movement</h5>
                            <ol>
                                <li>Read D-pad input</li>
                                <li>Implement angle variable (player direction)</li>
                                <li>Move forward/backward based on angle</li>
                                <li>Strafe left/right</li>
                                <li>Collision detection (don't walk through walls)</li>
                            </ol>
                            <p><strong>Checkpoint:</strong> You can walk around the room.</p>

                            <h5>Evening (Hours 9-12): First Enemy</h5>
                            <ol>
                                <li>Create enemy sprite (64x64 pixel art)</li>
                                <li>Place enemy in center of room</li>
                                <li>Simple AI: Always face player</li>
                                <li>Enemy moves toward player</li>
                                <li>Player A button: Melee attack animation</li>
                                <li>Collision: Attack hits enemy ‚Üí Enemy HP down</li>
                            </ol>
                            <p><strong>Checkpoint:</strong> You can kill the enemy.</p>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>18.4 What to Build FIRST (Answered Simply)</h3>
                    <div class="feature-card">
                        <h4>üéØ START HERE - IN ORDER</h4>

                        <div class="implementation-steps">
                            <h5>Build in This Exact Order:</h5>
                            <ol>
                                <li><strong>Raycasting engine</strong> - Make 3D walls appear on screen (3 days)</li>
                                <li><strong>Player walk</strong> - Move through the room (1 day)</li>
                                <li><strong>One enemy</strong> - Simple chase AI (2 days)</li>
                                <li><strong>Hit enemy</strong> - Player attack button (1 day)</li>
                                <li><strong>Enemy dies</strong> - Health system (1 day)</li>
                                <li><strong>Health pickup</strong> - Heal from drops (1 day)</li>
                                <li><strong>Level transition</strong> - Go to next room (1 day)</li>
                                <li><strong>5 enemies total</strong> - Variants (rat, skeleton, spider) (3 days)</li>
                                <li><strong>First boss</strong> - Vorath fight (4 days)</li>
                                <li><strong>Intro slideshow</strong> - 8 images with text (3 days)</li>
                                <li><strong>Full zone</strong> - 10 rooms, keys, doors (5 days)</li>
                            </ol>

                            <h5>Total to Playable Demo: <strong>25 days (3.5 weeks)</strong></h5>
                            <p>After that, you have a functional game demo. Then expand with more zones, bosses, story.</p>

                            <h5>Parallel Work (Can Do Anytime)</h5>
                            <ul>
                                <li><strong>Art:</strong> Draw sprites, wall textures (do while coding systems)</li>
                                <li><strong>Audio:</strong> Create sound effects, music (do while coding)</li>
                                <li><strong>Writing:</strong> Write dialogue, lore text (do while coding)</li>
                            </ul>

                            <h5>Bottom Line</h5>
                            <p><strong>Start with raycasting.</strong> Everything depends on it. Get a 3D room on screen TODAY. Then add player movement TOMORROW. Then an enemy WEDNESDAY. By Friday, you'll have something playable.</p>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>18.5 Risk-Mitigated Timeline</h3>
                    <div class="feature-card">
                        <h4>‚ö†Ô∏è REALISTIC SCHEDULE</h4>

                        <div class="implementation-steps">
                            <h5>Conservative Estimate (Things Go Wrong)</h5>
                            <ul>
                                <li><strong>Week 1-2:</strong> Core engine (buffer for raycasting bugs)</li>
                                <li><strong>Week 3-4:</strong> Combat basics (buffer for AI issues)</li>
                                <li><strong>Week 5-8:</strong> First zone + boss (buffer for balance)</li>
                                <li><strong>Week 9-12:</strong> Content polish (buffer for art delays)</li>
                                <li><strong>Week 13-16:</strong> Narrative + secrets (buffer for story changes)</li>
                                <li><strong>Week 17-20:</strong> QA + bug fixes (ALWAYS need more time)</li>
                            </ul>

                            <h5>Minimum Viable Release</h5>
                            <p><strong>3 months (12 weeks)</strong> for single-zone demo with 1 boss.</p>

                            <h5>Full Game Release</h5>
                            <p><strong>5-7 months</strong> for 5 zones, 5 bosses, full story.</p>

                            <h5>Secret Level</h5>
                            <p><strong>+1 month</strong> after full release (bonus content).</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 19: PLAYER-DIRECTED EXPANSION LOCK -->
            <div class="section" id="user-vision-lock">
                <h2>üß≠ Section 19: Player-Directed Expansion Lock (Your Requirements)</h2>

                <div class="subsection">
                    <h3>19.1 Locked Design Pillars (Must Include)</h3>
                    <div class="feature-card">
                        <h4>‚úÖ Final Scope Direction Confirmed</h4>
                        <ul>
                            <li><strong>Class System:</strong> 3 classes at minimum: Warrior, Archer, Mage.</li>
                            <li><strong>Combat Archetypes:</strong> melee + ranged + magic (ranged projectile style).</li>
                            <li><strong>Chest-Centric Loot:</strong> remove fixed potion placements as primary source; use breakable chest drops and item tables.</li>
                            <li><strong>High Score Replayability:</strong> top 10 leaderboard, 3-letter initials, retro-style entry page on death.</li>
                            <li><strong>Achievement System:</strong> mandatory, with its own isolated data section/module for clean code.</li>
                            <li><strong>Two Core Modes:</strong> Wave Mode (endless/high-score) and Story Mode (narrative progression).</li>
                            <li><strong>Trader Economy:</strong> periodic trader appearance, score-gated shop inventory unlock tiers.</li>
                            <li><strong>Stats & Build Growth:</strong> score/achievements/checkpoints feed stat points and long-run survivability.</li>
                            <li><strong>Equipment Depth:</strong> gear that modifies stats, plus 2 special equipment slots with meaningful tradeoffs.</li>
                            <li><strong>Storage Constraints:</strong> weighted inventory/storage cap to force decisions and prevent stockpiling.</li>
                            <li><strong>Narrative Arc:</strong> medieval town, giant church/catacombs, hell breach, boss relic hunt, final sorcerer kill to seal the 9th ring.</li>
                            <li><strong>Boss Relic Gate:</strong> final boss requires special items earned from major bosses.</li>
                            <li><strong>Future Optional Content:</strong> secret level concept, hidden-item pass, intro slideshow with audio ambience.</li>
                        </ul>
                    </div>
                </div>

                <div class="subsection">
                    <h3>19.2 System Boundaries (Keep Code Clean)</h3>
                    <div class="feature-card">
                        <h4>üì¶ Required Data/Logic Separation</h4>
                        <table>
                            <tr>
                                <th>System</th>
                                <th>Own Data Block</th>
                                <th>Primary Runtime Responsibilities</th>
                            </tr>
                            <tr>
                                <td>Achievements</td>
                                <td>`ACHIEVEMENT_DEFS`, `achievementState`</td>
                                <td>Track triggers, unlock, score/stat reward hooks, display feed</td>
                            </tr>
                            <tr>
                                <td>Scores</td>
                                <td>`highScores[10]`</td>
                                <td>Insert/sort, 3-letter name capture, death-screen submission</td>
                            </tr>
                            <tr>
                                <td>Classes/Stats</td>
                                <td>`CLASS_DEFS`, `playerBuild`, `playerStats`</td>
                                <td>Class init, scaling, stat point spend, loadout effects</td>
                            </tr>
                            <tr>
                                <td>Items/Chests</td>
                                <td>`ITEM_DEFS`, `CHEST_LOOT_TABLES`</td>
                                <td>Break chest, roll drops, quality tiers, class weighting</td>
                            </tr>
                            <tr>
                                <td>Trader</td>
                                <td>`SHOP_TIERS`, `shopInventoryState`</td>
                                <td>Spawn cadence, score-gated unlock, buy/sell validation</td>
                            </tr>
                            <tr>
                                <td>Modes</td>
                                <td>`RUN_MODE` enum + run state</td>
                                <td>Wave progression rules vs story progression rules</td>
                            </tr>
                            <tr>
                                <td>Storage/Weight</td>
                                <td>`inventoryState`, `stashState`</td>
                                <td>Weight checks, transfer constraints, slot caps</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="subsection">
                    <h3>19.3 Narrative Lock (Story Canon v1)</h3>
                    <div class="feature-card">
                        <h4>üìñ Story Structure to Build Against</h4>
                        <ol>
                            <li>Start in isolated medieval town near a massive church.</li>
                            <li>Catacombs beneath church are corrupted by a hell-linked sorcerer.</li>
                            <li>Player descends through themed zones and defeats boss guardians.</li>
                            <li>Each major boss provides a required relic/sigil piece.</li>
                            <li>All required relics unlock the final confrontation.</li>
                            <li>Final objective: kill sorcerer and seal portal back to the 9th ring.</li>
                        </ol>
                    </div>
                </div>
            </div>

            <!-- SECTION 20: EFFICIENT IMPLEMENTATION ORDER -->
            <div class="section" id="user-implementation-order">
                <h2>‚öôÔ∏è Section 20: Efficient Implementation Order (Execution Sequence)</h2>

                <div class="subsection">
                    <h3>20.1 Order of Operations (Dependency-First)</h3>
                    <div class="feature-card">
                        <h4>üöÄ Most Efficient Build Sequence</h4>
                        <div class="implementation-steps">
                            <ol>
                                <li><strong>Core Run Architecture:</strong> add run-mode state (Wave/Story), run seed, score event bus, and unified progression hooks.</li>
                                <li><strong>Data Layer First:</strong> implement centralized definitions for classes, items, achievements, shop tiers, and drop tables.</li>
                                <li><strong>Class + Stats Base:</strong> class selection/init, base stat templates, stat modifier pipeline, and two special equipment slots.</li>
                                <li><strong>Ranged Weapon Framework:</strong> shared projectile system (spawn/update/collision/lifetime) used by Archer and Mage.</li>
                                <li><strong>Chest + Drop Conversion:</strong> breakable chest logic, drop rolls, and migrate random potion economy into loot tables.</li>
                                <li><strong>Inventory/Storage/Weight:</strong> weighted carry limits, stash transfer rules, and item rejection messaging.</li>
                                <li><strong>Trader Loop:</strong> spawn cadence (every N levels/waves), score-tier unlock logic, buy flow and affordability checks.</li>
                                <li><strong>Scoring + Top 10 Board:</strong> retro initials entry at death, insertion sort, persistence hook placeholders.</li>
                                <li><strong>Achievements Module:</strong> isolated tracker file/block, event-driven unlocks, reward outputs (score/stat bonus).</li>
                                <li><strong>Mode Rules:</strong> Wave mode escalation + endless fail state, Story mode boss-relic gates + chapter transitions.</li>
                                <li><strong>Narrative Pass:</strong> church/catacomb storyline events, boss relic keying, final gate unlock condition.</li>
                                <li><strong>Polish/Future Hooks:</strong> secret-level trigger stubs, hidden-item framework, slideshow-with-audio entry pipeline.</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <h3>20.2 Suggested Milestone Packaging</h3>
                    <div class="feature-card">
                        <h4>üìå Deliverables by Milestone</h4>
                        <table>
                            <tr>
                                <th>Milestone</th>
                                <th>Goal</th>
                                <th>Exit Criteria</th>
                            </tr>
                            <tr>
                                <td>M1: Systems Skeleton</td>
                                <td>Modes, scoring hooks, data defs, class/stat pipeline</td>
                                <td>Can start run as Warrior/Archer/Mage with deterministic stat model</td>
                            </tr>
                            <tr>
                                <td>M2: Combat Expansion</td>
                                <td>Projectile/ranged/magic core + balance pass</td>
                                <td>All three classes playable with distinct combat identity</td>
                            </tr>
                            <tr>
                                <td>M3: Economy & Loot</td>
                                <td>Chest drops, weight inventory, trader loop</td>
                                <td>Break chest ‚Üí collect/use/sell items with real constraints</td>
                            </tr>
                            <tr>
                                <td>M4: Replay Loop</td>
                                <td>Top 10 scores + achievements + death flow</td>
                                <td>Death screen initials capture + persistent ranking + unlock events</td>
                            </tr>
                            <tr>
                                <td>M5: Narrative Structure</td>
                                <td>Story mode gates, boss relic progression, final objective</td>
                                <td>Story completion path works end-to-end with relic requirements</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="subsection">
                    <h3>20.3 Deferred Items (Intentionally Later)</h3>
                    <div class="feature-card">
                        <h4>üïí Not Blocking v1 Expansion</h4>
                        <ul>
                            <li><strong>Full Save System:</strong> defer until run length/content depth justifies complexity.</li>
                            <li><strong>Secret Level Full Production:</strong> keep as post-core content once main loop is stable.</li>
                            <li><strong>Large Hidden-Item Campaign:</strong> add after class/economy/modes are fully tuned.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p><strong>Inner Sanctum - MEGA Expansion Plan v4.0</strong></p>
            <p>Generated: February 13, 2026 | Total Feature Ideas: 400+ | Implementation: 5-7 Months</p>
            <p style="font-size: 0.9em; opacity: 0.8;">All features designed within VMU Pro SDK constraints (240x240 display, 64 sprite slots, math-safe implementations)</p>
            <p style="font-size: 0.9em; opacity: 0.8; margin-top: 10px;">üéÆ Sections: Vision, Scoring (50+ achievements), Inventory (40+ items), Narrative System, Combat (50+ enemies), Pickups (100+ items), Environment (25+ systems), Map Features (40+ elements), Difficulty (8 modes), Timeline, Guardian's Quest (Artifact system), Intro Cinematic, Secret Level, Implementation Roadmap, Player-Directed Expansion Lock, Efficient Implementation Order</p>
        </footer>
    </div>
</body>
</html>
