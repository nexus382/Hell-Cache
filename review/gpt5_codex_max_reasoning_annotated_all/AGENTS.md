# GPT-5 Codex Max Reasoning Annotated Code Reviews

<!-- Parent: ../AGENTS.md -->

**Generated:** 2026-02-23

---

## Purpose

This directory contains deep reasoning code reviews generated by GPT-5 Codex Max Reasoning model. Each `.annotated.txt` file contains the original source code with `[GPT-5-CODEX-MAX-REASONING]` prefix markers on every line, indicating AI-assisted analysis and annotation.

These annotated files serve as comprehensive code review artifacts for the Inner Sanctum project, providing detailed examination of:
- Main game logic and rendering systems
- Data layer configurations (classes, items, loot tables)
- VMU Pro SDK API implementations
- Build artifacts and intermediate files

---

## Annotated Files Summary

### Main Game Code (14 files)

| Annotated File | Original Source | Description |
|----------------|-----------------|-------------|
| `app_full.lua.annotated.txt` | `app_full.lua` | Main game logic (~380KB) - raycaster, AI, rendering, game states |
| `app.lua.annotated.txt` | `app.lua` | Boot wrapper with error handling |
| `api__text.lua.annotated.txt` | `api/text.lua` | Custom text rendering API module |
| `data__classes.lua.annotated.txt` | `data/classes.lua` | Playable class definitions (Warrior, Archer, Mage) |
| `data__items.lua.annotated.txt` | `data/items.lua` | Item definitions and configurations |
| `data__loot_tables.lua.annotated.txt` | `data/loot_tables.lua` | Loot drop probability tables |
| `data__achievements.lua.annotated.txt` | `data/achievements.lua` | Achievement system data |
| `data__persistence.lua.annotated.txt` | `data/persistence.lua` | Save/load system implementation |
| `data__runtime_state.lua.annotated.txt` | `data/runtime_state.lua` | Runtime state management |
| `data__score_model.lua.annotated.txt` | `data/score_model.lua` | Scoring system model |
| `data__trader_tiers.lua.annotated.txt` | `data/trader_tiers.lua` | Trader/shop tier configurations |
| `IS BUILD FILES__app_full.lua.annotated.txt` | Build artifact | Build intermediate of main game |
| `IS BUILD FILES__app.lua.annotated.txt` | Build artifact | Build intermediate of boot wrapper |
| `IS BUILD FILES__api__text.lua.annotated.txt` | Build artifact | Build intermediate of text API |

### VMU Pro SDK - Core APIs (15 files)

| Annotated File | API Module | Description |
|----------------|------------|-------------|
| `vmupro-sdk__sdk__api__display.lua.annotated.txt` | `vmupro.graphics` | Display and graphics functions |
| `vmupro-sdk__sdk__api__input.lua.annotated.txt` | `vmupro.input` | Input handling (buttons, controls) |
| `vmupro-sdk__sdk__api__audio.lua.annotated.txt` | `vmupro.audio` | Audio playback functions |
| `vmupro-sdk__sdk__api__synth.lua.annotated.txt` | `vmupro.sound.synth` | Synthesizer sound generation |
| `vmupro-sdk__sdk__api__sprites.lua.annotated.txt` | `vmupro.sprite` | Sprite loading and rendering |
| `vmupro-sdk__sdk__api__text.lua.annotated.txt` | `vmupro.text` | Text rendering utilities |
| `vmupro-sdk__sdk__api__file.lua.annotated.txt` | `vmupro.file` | File system operations |
| `vmupro-sdk__sdk__api__system.lua.annotated.txt` | `vmupro.system` | System-level functions |
| `vmupro-sdk__sdk__api__log.lua.annotated.txt` | `vmupro.log` | Logging utilities |
| `vmupro-sdk__sdk__api__debug.lua.annotated.txt` | `vmupro.debug` | Debug utilities |
| `vmupro-sdk__sdk__api__doublebuffer.lua.annotated.txt` | Double buffer | Double buffering API |
| `vmupro-sdk__sdk__api__instrument.lua.annotated.txt` | Instrument | Performance instrumentation |
| `vmupro-sdk__sdk__api__sequence.lua.annotated.txt` | Sequence | Sequence/animation API |
| `vmupro-sdk__sdk__api__utilities.lua.annotated.txt` | Utilities | General utility functions |
| `vmupro-sdk__sdk__api____stubs.lua.annotated.txt` | Stubs | IDE stub definitions |

### VMU Pro SDK - Examples (43 files)

| Category | Files | Description |
|----------|-------|-------------|
| Hello World | `vmupro-sdk__examples__hello_world__app.lua.annotated.txt` | Basic SDK example |
| Nested Example Main | `vmupro-sdk__examples__nested_example__app.lua.annotated.txt` | Complex multi-page example |
| Pages 1-39 | `vmupro-sdk__examples__nested_example__pages__page*.lua.annotated.txt` | Individual page implementations |
| Libraries | `vmupro-sdk__examples__nested_example__libraries__maths.lua.annotated.txt` | Math utilities library |
| Libraries | `vmupro-sdk__examples__nested_example__libraries__utils.lua.annotated.txt` | General utilities library |

---

## File Format

Each annotated file follows this structure:

```
00001 [GPT-5-CODEX-MAX-REASONING] -- Original code line 1
00002 [GPT-5-CODEX-MAX-REASONING] -- Original code line 2
00003 [GPT-5-CODEX-MAX-REASONING]
00004 [GPT-5-CODEX-MAX-REASONING] function example()
...
```

**Format Details:**
- Line numbers are 5-digit padded (00001, 00002, etc.)
- Every line is prefixed with `[GPT-5-CODEX-MAX-REASONING]`
- Original code formatting and content is preserved
- No additional annotations are inline - the prefix indicates the model has processed/reviewed the code

---

## For AI Agents

### Purpose of This Directory

This directory serves as a comprehensive code review archive. The annotated files represent deep reasoning analysis of the entire Inner Sanctum codebase including its dependencies.

### Key Insights from Annotations

1. **Performance Monitoring System** (`app_full.lua`): Extensive `PERF_MONITOR_*` variables for profiling raycast, wall rendering, fog, input, audio, simulation, and presentation phases.

2. **Double Buffering**: Configurable via `DEBUG_DOUBLE_BUFFER` flag with detailed usage tracking.

3. **Class System** (`data__classes.lua`): Three playable classes with distinct stat templates:
   - Warrior: High HP (120), defense-focused
   - Archer: Balanced, speed-focused (1.15x), ranged
   - Mage: Low HP (80), high crit, magic-focused

4. **VMU Pro SDK**: Stub-based API definitions for IDE support, actual implementations provided by firmware at runtime.

### Working With Annotated Files

When analyzing these files:
1. The `[GPT-5-CODEX-MAX-REASONING]` prefix indicates AI-processed content
2. Search for specific patterns using the prefix as an anchor
3. Line numbers correspond to original source positions
4. Use these for cross-referencing with original source files

---

## Related Documentation

- Parent: `../AGENTS.md` - Main project documentation
- Original Sources: `../../app_full.lua`, `../../data/`, `../../vmupro-sdk/sdk/api/`
- Performance Plans: `../../DOOM_PERFORMANCE_OPTIMIZATION_PLAN.md`
